---
translatedFrom: de
translatedWarning: Если вы хотите отредактировать этот документ, удалите поле «translationFrom», в противном случае этот документ будет снова автоматически переведен
editLink: https://github.com/ioBroker/ioBroker.docs/edit/master/docs/ru/downloads/ioBroker_Image_RPi_2-3-4_20190723_buster.md
title: Образ ioBroker для Raspberry Pi2/3/4 Buster 20190723
hash: fK7C+zuqzKYOMbATomViYiwvTOqyjHKCzx7mfTlTKUg=
---
# Образ ioBroker для Raspberry Pi2/3/4 Buster 20190723
## Создание карты µ-SD
Это образ SD-карты для Raspberry Pi2, Pi3, Pi3 B+ или Pi4.

Образ был создан на Raspberry Pi4 с 2 ГБ ОЗУ, но также должен работать на всех вышеперечисленных устройствах. Подходит для карт емкостью 4 ГБ и больше. Однако 8 ГБ — это минимальный рекомендуемый размер. В любом случае рекомендуется использовать карты емкостью 16 ГБ, чтобы не всегда записывались одни и те же ячейки.

Образ распаковывается и затем записывается на SD-карту с помощью программы Balena Etcher. Etcher доступен для разных операционных систем.

## Компоненты изображения
Образ содержит Raspbian lite, основанный на Debian 10 «Buster» от 10 июля 2019 года после загрузки с http://www.raspberrypi.org/downloads.

Кроме того, установлены пакеты, необходимые для некоторых адаптеров.

Был создан следующий пользователь:

* Пользователь: `пи`,
* Пароль: `raspberry`

Установлен Node-js версии 10.16.0 и конечно же iobroker через установщик с js-контроллером от 23 июля 2019 года.

Это **минимальная установка**, включающая только администратора и адаптер обнаружения**. Дополнительные адаптеры и их экземпляры еще необходимо создать и настроить.

Создание дополнительных адаптеров и их экземпляров описано в [здесь](/tutorial/adapter.md).

**Примечание!** Следующие инструкции были созданы, насколько нам известно, на основе информации, действовавшей на момент создания изображения. Все может измениться в любой момент благодаря обновлениям пакетов или ядра.

Изображение локализовано для Германии. При использовании в других средах внесите соответствующие изменения. (`sudo raspi-config`; 4.) Параметры локализации)

## После первого запуска
После первого запуска Rapberry Pi выполните следующие настройки, используя `sudo raspi-config`:

Пункт 1: `Change User passwort` (Назначьте собственный пароль для пользователя `Pi`) Пункт 2: `Network Options – Hostname` (При необходимости измените имя Raspberry Pi. По умолчанию — `ioBroker-Pi`) если имя хоста изменено, пожалуйста, в консоли в каталоге установки Введите `iobroker host this` пункт 7: `Advanced Options – Expand filesystem` (расширение корневой файловой системы до максимального размера используемой SD-карты), при необходимости внесите изменения в пункт 4: `Localisation Options`. Настройки по умолчанию применяются к Германии.

## Обновление системы
Поскольку с момента создания образа на момент загрузки могло пройти некоторое время, первое, что вам следует сделать, это обновить систему.

Чтобы обновить Linux и nodejs до последних версий, выполните в консоли следующие действия:

```sudo apt-get update && sudo apt-get upgrade -y```

Также следует проверить, есть ли уже обновления для уже установленных адаптеров и js-контроллера (см. вкладку «Хосты»).

Помимо минимально возможного размера образа, это еще и причина того, что предустановлено лишь несколько адаптеров.

В таких случаях всегда сначала запускайте js-контроллер через консоль по инструкции во вкладке Hosts, затем, если необходимо, адаптер Admin и затем все остальные адаптеры.

## Установка Redis
Эти образы больше не содержат базу данных Redis для хранения состояний. На слабых компьютерах и с небольшим объемом оперативной памяти использование Redis иногда может значительно повысить производительность. На более быстрых компьютерах это уменьшает доступ к записи и, таким образом, продлевает срок службы SD-карты.

Если необходимо установить Redis, для текущих образов необходимо выполнить следующие действия.

### Установка сервера Redis
После команды:

`sudo apt install redis-server`

Сервер Redis готов и доступен на порту 6379.

### Переключение состояний на Redis
Чтобы использовать Redis для хранения состояний в ioBroker, это необходимо настроить в консоли с помощью:

`iobroker setup custom`

В следующем диалоговом окне введите следующее (внимание в 4-й строке):

```
Type of objects DB [file, couch, redis], default [file]: ENTER
Host of objects DB(file), default[127.0.0.1]: ENTER
Port of objects DB(file), default[9001]: ENTER
Type of states DB [file, redis], default [file]: r ENTER
Host of states DB (file), default[HostName]:ENTER
Port of states DB (file), default[9000]: ENTER
Host name of this machine [hostname]: ENTER
```

Здесь описаны особенности установки в многохостовой системе:

[кликните сюда](config/multihost.md)

Освобождение Redis для пользователя iobroker Чтобы, например, адаптер резервного копирования также мог получить доступ к Redis, пользователю необходимо предоставить необходимое разрешение с помощью:

`sudo usermod -a -G redis iobroker`