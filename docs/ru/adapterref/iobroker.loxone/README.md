---
translatedFrom: en
translatedWarning: Если вы хотите отредактировать этот документ, удалите поле «translatedFrom», в противном случае этот документ будет снова автоматически переведен
editLink: https://github.com/ioBroker/ioBroker.docs/edit/master/docs/ru/adapterref/iobroker.loxone/README.md
title: ioBroker.loxone
hash: ga2LonJ6jCCokaDpU/+QVaEICpDsRsKFjGw8A6lfQ2w=
---
![Логотип](../../../en/adapterref/iobroker.loxone/admin/loxone.png)

![НПМ-версия](http://img.shields.io/npm/v/iobroker.loxone.svg)
![Загрузки](https://img.shields.io/npm/dm/iobroker.loxone.svg)
![Количество установок (последних)](http://iobroker.live/badges/loxone-installed.svg)
![Количество установок (стабильно)](http://iobroker.live/badges/loxone-stable.svg)
![Статус зависимости](https://img.shields.io/david/UncleSamSwiss/iobroker.loxone.svg)
![НПМ](https://nodei.co/npm/iobroker.loxone.png?downloads=true)

# IoBroker.loxone
[![Статус перевода](https://weblate.iobroker.net/widgets/adapters/-/loxone/svg-badge.svg)](https://weblate.iobroker.net/engage/adapters/?utm_source=widget)

**Тесты:** ![Тестирование и выпуск](https://github.com/UncleSamSwiss/ioBroker.loxone/workflows/Test%20and%20Release/badge.svg)

## Локсоновый адаптер для ioBroker
**_Для этого адаптера требуется как минимум nodejs 18.x!_**

Получает всю информацию, доступную на мини-сервере Loxone (и Loxone Miniserver Go), и предоставляет изменения в реальном времени.

**Этот адаптер использует библиотеки Sentry для автоматического сообщения разработчикам об исключениях и ошибках кода.** Для получения более подробной информации и информации о том, как отключить отчеты об ошибках, см. [Документация плагина Sentry](https://github.com/ioBroker/plugin-sentry#plugin-sentry)! Отчеты Sentry используются начиная с js-controller 3.0.

## Установить
Установите этот адаптер через администратора ioBroker:

1. Откройте диалоговое окно конфигурации экземпляра.
2. Введите IP-адрес или имя хоста и порт HTTP (по умолчанию 80) вашего мини-сервера Loxone.
3. Создайте нового пользователя на мини-сервере Loxone (с помощью приложения Loxone Config), которому вы дадите права только на чтение и запись для всех необходимых переменных.
4. Введите имя этого пользователя и его пароль в диалоговом окне конфигурации.
5. Сохраните конфигурацию.
6. Запустите адаптер

## Конфигурация
### Имя хоста/IP мини-сервера
Это IP-адрес или имя хоста вашего мини-сервера Loxone или мини-сервера Go.

### Порт мини-сервера
Это HTTP-порт вашего мини-сервера Loxone.

По умолчанию минисервер настроен на прослушивание порта 80, но вы могли его изменить.

### Имя пользователя мини-сервера
Укажите действительное имя пользователя для доступа к мини-серверу Loxone.

По соображениям безопасности настоятельно рекомендуется использовать пользователя, отличного от «admin».

Пользователю нужен только доступ для чтения к переменным, которые вы хотите использовать, из ioBroker.

### Пароль мини-сервера
Укажите пароль для данного имени пользователя (см. выше).

### Синхронизировать имена
Это будет обновлять имена в ioBroker всякий раз, когда они изменяются в конфигурации Loxone.
Если это отключено, имена будут синхронизироваться только при первом обнаружении элемента управления.

### Синхронизировать комнаты
Это заполнит перечисление enum.rooms всеми комнатами, предоставленными мини-сервером Loxone, и свяжет все элементы управления.

### Синхронизация функций
Это заполнит перечисление enum.functions всеми категориями, предоставленными мини-сервером Loxone, и свяжет все элементы управления.

### Сервер погоды
Выберите, какие данные о погоде вы хотите синхронизировать:

- «Не синхронизировать данные о погоде» не синхронизирует ничего, что связано с сервером погоды.
- «Синхронизировать только текущую погоду» синхронизирует данные в разделе «Фактические».
- «Синхронизировать 24-часовой прогноз погоды» синхронизирует текущую погоду и 24-часовой прогноз погоды.
- «Синхронизировать весь прогноз погоды» синхронизирует текущую погоду и весь прогноз погоды (96 часов)

## Состояния
Адаптер автоматически подключается к настроенному мини-серверу Loxone и создает состояния для каждого найденного состояния управления.

Идентификаторы состояний имеют следующий формат: `loxone.<instance>.<control>.<state>`.

- `<instance>` — это индекс экземпляра адаптера ioBroker (обычно «0»)
- `<control>` — это UUID элемента управления.
- `<state>` — это состояние внутри элемента управления (дополнительную информацию см. в разделе [Поддерживаемые типы элементов управления](#supported-control-types).

Имя, указанное при настройке элемента управления в Loxone Config, будет использоваться только в качестве его отображаемого имени в ioBroker.
Это связано с тем, что пользователь может выбрать одно и то же имя для нескольких элементов управления.

Для получения дополнительной информации об элементах управления и их состояниях также ознакомьтесь с API Loxone (особенно с файлом структуры): https://www.loxone.com/enen/kb/api/

## Управление видимостью
По умолчанию Loxone Miniserver скрывает многие элементы управления (и, следовательно, их состояния) из веб-интерфейса.

Это означает, что они также скрыты от этого адаптера ioBroker.

### Использование в пользовательском интерфейсе
Чтобы гарантировать, что все ваши состояния правильно передаются в ioBroker, убедитесь, что в разделе «Пользовательский интерфейс» отмечен флажок «Использовать»:

![Использовать в настройках пользовательского интерфейса](../../../en/adapterref/iobroker.loxone/doc/loxone-config-use-in-visualization.png)

### Отображение диагностических входов
Чтобы просмотреть диагностические входы (например, состояние батареи устройств Air), убедитесь, что на устройстве установлен флажок «Отображать диагностические входы»:

![Отображение настроек диагностических входов](../../../en/adapterref/iobroker.loxone/doc/loxone-config-display-diagnostics.png)

## Глобальные состояния
В настоящее время этот адаптер предоставляет следующие глобальные состояния:

- `operatingMode`: номер текущего режима работы мини-сервера Loxone.
- `operatingMode-text`: текущий рабочий режим мини-сервера Loxone в виде текста.
- `восход`: количество минут после полуночи, когда сегодня восходит солнце.
- `закат`: количество минут после полуночи, когда сегодня зайдет солнце.
- «уведомления»: количество уведомлений.
- `модификации`: количество модификаций.
- все остальные глобальные состояния просто сообщаются как тексты

## Поддерживаемые типы управления
Этот адаптер в настоящее время поддерживает следующие типы управления.

За названием штата вы можете увидеть тип штата:

- `(rw)`: доступно для чтения и записи: это состояние можно изменить из ioBroker.
- `(ro)`: только для чтения: это состояние нельзя изменить из ioBroker
- `(wo)`: только для записи: значение этого состояния не сообщается этим адаптером, но его можно изменить, вызывая некоторые действия на мини-сервере Loxone.

### AalSmartAlarm
Обеспечивается системой управления интеллектуальной сигнализацией AAL.

- `alarmLevel` (ro) идентификатор текущего уровня тревоги
    - 0 = нет тревоги
    - 1 = Немедленная тревога
    - 2 = сигнал тревоги с задержкой
- `alarmCause` (ro) Строка, представляющая последнюю причину тревоги.
- `isLocked` (ro) Сброс активен, входы будут игнорироваться и, следовательно, никакие сигналы тревоги не будут выполняться.
- `isLeaveActive` (ro) Установлен вход выхода, никакие сигналы тревоги не будут выполняться.
- `disableEndTime` (ro) Время окончания отключения элемента управления.
- `confirm` (wo) Подтвердить ожидающую тревогу
- `disable` (wo) Отключить управление на определенный период времени, никакие сигналы тревоги не будут срабатывать. Установка значения 0 снова включит интеллектуальный будильник.
- `startDrill` (wo) Выполнить тестовую сигнализацию

### AalEmergency
Обеспечивается управлением умной аварийной кнопкой AAL.

- `status` (ro) идентификатор текущего статуса
    - 0 = работает, нормальная работа, ожидание нажатия аварийной кнопки
    - 1 = тревога сработала
    - 2 = вход сброса в конфигурации подтвержден, управление отключено
    - 3 = приложение временно отключило управление.
- `disableEndTime` (ro) Время окончания отключения элемента управления.
- текстовое состояние `resetActive` (ro) с активным входом сброса (если управление находится в состоянии сброса)
- `trigger` (wo) запускает сигнал тревоги из приложения.
- `quit` (wo) выйти из активного будильника
- `disable` (wo) отключить управление на заданное время в секундах. Установите значение 0, чтобы снова начать управление, если оно отключено.

### Тревога
Обеспечивается охранной сигнализацией.

- `armed` (rw) логическое состояние (истина/ложь) тревоги; запись `true` в это значение немедленно включит сигнал тревоги (без предопределенной задержки)
- `nextLevel` (ro) идентификатор следующего уровня тревоги.
    - 1 = Тихий
    - 2 = Акустический
    - 3 = Оптический
    - 4 = Внутренний
    - 5 = Внешний
    - 6 = Удаленный
- `nextLevelDelay` (ro) задержка следующего уровня в секундах
- `nextLevelDelayTotal` (ro) общая задержка следующего уровня в секундах
- `level` (ro) идентификатор текущего уровня тревоги
    - 1 = Тихий
    - 2 = Акустический
    - 3 = Оптический
    - 4 = Внутренний
    - 5 = Внешний
    - 6 = Удаленный
- `startTime` (ro) временная метка начала тревоги.
- `armedDelay` (ro) задержка постановки сигнализации на охрану
- `armedDelayTotal` (ro) общая задержка постановки на охрану управления сигнализацией.
- `сенсоры` (ro) список датчиков
- `disabledMove` (rw) движение отключено (true) или нет (false)
- `delayedOn` (wo) запись любого значения в это состояние активирует тревогу с настроенной задержкой
- `quit` (wo) запись любого значения в это состояние подтверждает сигнал тревоги

### Центральная сигнализация
Обеспечивается централизованным управлением охранной сигнализацией.

- `armed` (rw) логическое состояние (истина/ложь) тревоги; запись `true` в это значение немедленно включит сигнал тревоги (без предопределенной задержки)
- `delayedOn` (wo) запись любого значения в это состояние активирует тревогу с настроенной задержкой
- `quit` (wo) запись любого значения в это состояние подтверждает сигнал тревоги

### Будильник
Предусмотрено управление будильником.

- `isEnabled` (rw) логическое состояние (истина/ложь) будильника
- `isAlarmActive` (ro) логическое значение (истина/ложь), указывает, звонит ли будильник в данный момент.
- `confirmationNeeded` (ro) логическое значение (true/false), нужно ли пользователю подтвердить сигнал тревоги.
- `ringingTime` (ro) обратный отсчет в секундах, как долго будильник будет звонить, пока он снова не уснет.
- `ringDuration` (rw) продолжительность звонка будильника в секундах
- `prepareDuration` (rw) время подготовки в секундах
- `snoozeTime` (ro) секунд до окончания сна
- snoozeDuration (rw) продолжительность повтора в секундах
- `snooze` (wo) запись любого значения в это состояние откладывает текущий будильник
- `dismiss` (wo) запись любого значения в это состояние отключает текущую тревогу.

### АудиоЗона
Предоставлено Music Server Zone.

- `serverState` (ro) состояние музыкального сервера:
    - -3 = неизвестная/недействительная зона
    - -2 = недоступен
    - -1 = неизвестно
    - 0 = оффлайн
    - 1 = инициализация (загрузка, попытка доступа)
    - 2 = онлайн
- `playState` (rw) состояние воспроизведения:
    - -1 = неизвестно (это значение невозможно установить)
    - 0 = остановлено (установка этого значения приостановит воспроизведение)
    - 1 = пауза (установка этого значения приостановит воспроизведение)
    - 2 = воспроизведение (установка этого значения запустит/возобновит воспроизведение)
- `clientState` (ro) состояние клиента:
    - 0 = оффлайн
    - 1 = инициализация (загрузка, попытка доступа)
    - 2 = онлайн
- `power` (rw) независимо от того, активно ли питание клиента
- `volume` (rw) текущая громкость
- Зонам `maxVolume` (ro) можно назначить максимальную громкость.
- `shuffle` (rw) включено или нет перемешивание плейлиста
- список `sourceList` (ro), содержащий все избранные зоны
- `repeat` (rw) режим повтора:
    - -1 = неизвестно
    - 0 = выкл.
    - 1 = повторить все
    - 2 = -не используется-
    - 3 = повторить текущий элемент
- `songName` (ro) название песни
- `duration` (ro) длина всей дорожки, -1, если неизвестно (поток)
- `прогресс` (rw) текущая позиция на треке
- `album` (ro) название альбома
- `artist` (ro) имя исполнителя
- `station` (ro) название станции
- `genre` (ro) название жанра
- `cover` (ro) URL-адрес обложки песни/альбома
- `source` (rw) текущий выбранный идентификатор источника (см. `sourceList` выше)
- `prev` (wo) запись любого значения в это состояние переходит на предыдущую дорожку
- `next` (wo) запись любого значения в это состояние переходит на следующую дорожку

### Центральное аудио
Предоставляется центральным музыкальным сервером.

- `control` (wo) устанавливает состояние игры всех игроков (`true` = игра, `false` = пауза)

### Выбор цвета
Это устройство появляется только внутри LightController.

- `red` (rw) красное значение палитры цветов
- `green` (rw) зеленое значение палитры цветов
- `blue` (rw) синее значение палитры цветов

Установка одного или нескольких из вышеуказанных состояний из ioBroker приведет к отправке команды на мини-сервер примерно через 100 мс.
Это сделано для того, чтобы цвет не менялся несколько раз для одного пользовательского ввода.

### Выбор цвета V2
Это устройство появляется только внутри Light Controller V2 в программном обеспечении Loxone версии 9 и выше.

- `red` (rw) красное значение палитры цветов
- `green` (rw) зеленое значение палитры цветов
- `blue` (rw) синее значение палитры цветов

Установка одного или нескольких из вышеуказанных состояний из ioBroker приведет к отправке команды на мини-сервер примерно через 100 мс.
Это сделано для того, чтобы цвет не менялся несколько раз для одного пользовательского ввода.

### Дневной таймер / IRCDaytimer
Предоставляется таймером/расписанием.

- `mode` (ro) текущий режим работы дневного таймера
- `mode-text` (ro) имя текущего рабочего режима дневного таймера
- `переопределить` (ro) оставшееся время таймера
- `value` (ro) текущее значение, `true` или `false` для цифрового и значение для аналогового.
- `value-formated` (ro) текущее форматированное значение в виде текста
- `needsActivation` (ro) доступен только в том случае, если элемент управления необходимо активировать.
- `resetActive` (ro) остается активным, пока активен вход сброса дневного таймера.
- `pulse` (wo) активирует новое значение, если запись требует активации.

### Диммер
Обеспечивается диммерами.

- `position` (rw) текущее положение диммера
- `min` (ro) текущее минимальное значение
- `max` (ro) текущее максимальное значение
- `step` (ro) текущее значение шага
- `on` (wo) запись любого значения в это состояние устанавливает диммер в последнее известное положение
- `off` (wo) запись любого значения в это состояние отключает диммер, устанавливает положение на 0, но запоминает последнее положение

### EIBDimmer
Обеспечивается диммерами EIB/KNX.

- `position` (rw) текущая позиция диммера
- `on` (wo) запись любого значения в это состояние устанавливает диммер в последнее известное положение
- `off` (wo) запись любого значения в это состояние отключает диммер, устанавливает положение на 0, но запоминает последнее положение

### Фрониус
Предоставляется энергомонитором.

- `prodCurr` (ro) текущая производственная мощность
- `prodCurrDay` (ro) производство энергии за текущий день
- `prodCurrMonth` (ro) производство энергии за весь текущий месяц
- `prodCurrYear` (ro) производство энергии за весь текущий год
- производство энергии `prodTotal` (ro) с момента установки
- `consCurr` (ro) текущая потребляемая мощность
- `consCurrDay` (ro) энергия, потребляемая в течение текущего дня
- `consTotal` (ro) энергия, израсходованная с момента установки
- `deliveryDay` (ro) неизвестно
- `earningsDay` (ro) сколько денег было заработано за текущий период либо за счет потребления произведенной энергии самостоятельно, а не за счет потребления ее из сети, либо за счет экспорта неиспользованной произведенной энергии в сеть.
- `earningsMonth` (ro) сколько денег было заработано за текущий месяц
- `earningsYear` (ro) сколько денег было заработано за текущий год
- `earningsTotal` (ro) сколько денег было заработано с момента настройки
- `gridCurr` (ro) текущее потребление/мощность сети. Если отрицательный, мощность подается в сеть.
- `batteryCurr` (ro) текущая мощность зарядки/потребления аккумулятора. Если отрицательный, аккумулятор заряжается.
- `stateOfCharge` (ro) представляет состояние зарядки аккумулятора. 100 = полностью заряжен.
- `co2Factor` (ro) Сколько CO2 требуется для производства одного кВтч, используется для расчета экономии CO2.
- `online` (ro) true: онлайн, false: оффлайн

### Ворота
Обеспечивается средствами управления воротами.

- `position` (ro) позиция от 1 = вверх до 0 = вниз
- `active` (rw) текущее направление движения ворот
    - -1 = закрыть
    - 0 = не движется
    - 1 = открыто
- `preventOpen` (ro) предотвращает ли открытие двери
- `preventClose` (ro) предотвращает ли закрытие двери

### Центральные ворота
Обеспечивается центральным управлением воротами.

- `open` (wo) открывает все врата
- `close` (wo) закрывает все ворота
- `stop` (wo) останавливает все двигатели ворот.

### Счетчик часов
Предоставлено

- `total` (ro) общее количество секунд, в течение которых счетчик был активен на данный момент
- `remaining` (ro) сколько секунд осталось до следующего обслуживания
- `lastActivation` (ro) отметка времени, когда счетчик был активирован в последний раз
- `overdue` (ro) `false`, если не просрочено, в противном случае требуется техническое обслуживание
- `maintenanceInterval` (ro) секунд до следующего обслуживания
- `active` (ro) независимо от того, активен счетчик в данный момент или нет.
- `overdueSince` (ro) секунд с момента превышения интервала обслуживания.
- `reset` (wo) вызовет сброс следующих значений
    - оставшийся до техобслуживания интервал
    - просрочка до 0
    - просроченоС до 0
- `resetAll` (wo) похож на `reset`, но также устанавливает
    - всего до 0
    - последняя активация до 0

### ИнфоТолькоАналог
Предоставляется виртуальными состояниями, а также переключателем Loxone Touch.

- `value` (ro) значение состояния (номер) элемента управления
- `value-formated` (ro), если настроено, форматированное значение состояния (с использованием формата «Unit» из Loxone Config)

### InfoOnlyDigital
Предоставляется виртуальными состояниями, а также переключателем Loxone Touch.

- `active` (ro) логическое состояние (истина/ложь) элемента управления
- `active-text` (ro), если настроено, текстовый эквивалент состояния
- `active-image` (ro), если настроено, изображение, эквивалентное состоянию
- `active-color` (ro), если настроено, эквивалент цвета состояния

![Настройки InfoOnlyDigital](../../../en/adapterref/iobroker.loxone/doc/loxone-config-info-only-digital.png)

### ИнфоТолькоТекст
Предоставляется виртуальными текстовыми состояниями.

- `text` (ro) значение состояния элемента управления
- `text-formated` (ro), если настроено, форматированное значение состояния.

### Внутренняя связь
Обеспечивается дверными контроллерами.

- `bell` (ro) звонит ли колокольчик
- Массив `lastBellEvents` (ro), содержащий временные метки для каждого звонка, на который не был получен ответ.
- `version` (ro) Только для домофонов Loxone - текст, содержащий установленную в данный момент прошивку.

    версии

- `ответ` (wo) запись любого значения в это состояние отключит звонок

Этот тип канала может содержать другие устройства. Дополнительную информацию смотрите в соответствующей главе.

### Интеллектуальный комнатный контроллер V2
Предоставляется интеллектуальным комнатным контроллером V2, начиная с Miniserver 10.0.

TODO: документация в настоящее время отсутствует

### Жалюзи
Предусмотрены различные виды жалюзи (автоматические и ручные).

- `up` (rw) движется ли Жалюзи вверх
- `down` (rw) опускается ли Жалюзи вниз
- `position` (ro) позиция Жалюзи, число от 0 до 1
    - Верхнее положение жалюзи = 0
    - Нижнее положение жалюзи = 1
- `shadePosition` (ro) положение затемнения Жалюзи (жалюзи), число от 0 до 1
    - Жалюзи не затемняются = 0
    - Жалюзи затемнены = 1
- `safetyActive` (ro) используется только теми, у кого есть автопилот, это означает безопасное отключение.
- `autoAllowed` (ro) используется только теми, у кого есть автопилот.
- `autoActive` (rw) используется только теми, у кого есть автопилот.
- «заблокировано» (ro) только для тех, у кого есть автопилот, это представляет выходной QI в конфигурации Loxone.
- `infoText` (ro) информирует, например. о том, что вызвало состояние блокировки или что привело к активизации безопасности.
- `fullUp` (wo) запись любого значения в это состояние запускает полное движение вверх.
- `fullDown` (wo) запись любого значения в это состояние запускает полное движение вниз.
- `shade` (wo) записывая любое значение в это состояние, затемняет жалюзи в идеальное положение.

### Центральные жалюзи
Обеспечивается центральным управлением жалюзи.

- `autoActive` (rw) используется только теми, у кого есть автопилот.
- `fullUp` (wo) запись любого значения в это состояние запускает полное движение вверх.
- `fullDown` (wo) запись любого значения в это состояние запускает полное движение вниз.
- `shade` (wo) запись любого значения в это состояние затемняет все жалюзи в идеальное положение

### Контроллер освещения
Обеспечивается (гостиничными) контроллерами освещения.
Сцены можно изменять только в приложениях Loxone, но их можно выбирать в ioBroker.

- `activeScene` (rw) номер текущей активной сцены
    - 0: все выключено
    - 1..8: сцена, определяемая пользователем (определение/изучение сцен должно выполняться с помощью инструментов Loxone)
    - 9: все включено
- `sceneList` (ro) список всех сцен
- `плюс` (wo) переходит к следующей сцене
- `минус` (wo) изменения предыдущей сцены

Этот тип канала может содержать другие устройства. Дополнительную информацию смотрите в соответствующей главе.

### Контроллер света V2
Предоставляется (гостиничными) контроллерами освещения в программном обеспечении Loxone версии 9 и выше.
Настроения можно изменять только в приложениях Loxone, но их можно выбирать и комбинировать в ioBroker.

- `moodList` (ro) список всех настроенных названий настроений
- `activeMoods` (rw) текущий активный список названий настроений
- `favoriteMoods` (ro) список любимых названий настроений
- `additionalMoods` (ro) список нелюбимых названий настроений
- `плюс` (wo) переходит в следующее наклонение
- `минус` (wo) меняется на предыдущее наклонение

Этот тип канала может содержать другие устройства. Дополнительную информацию смотрите в соответствующей главе.

### Центральный контроллер освещения
Обеспечивается центральным контроллером освещения.

- `control` (wo) включает или выключает все освещение

### Почтовый ящик
Предоставлено компанией Paketsafe Air/Tree.

- `notificationsDisabledInput` (ro) Состояние входа отключения уведомлений.
- `packetReceived` (ro) Состояние, если пакет был получен
- `mailReceived` (ro) Состояние получения почты.
- временная метка `disableEndTime` (ro) до отключения уведомлений
- `confirmPacket` (wo) Подтвердить получение пакета.
- `confirmMail` (wo) Подтвердить получение почты.
- `disableNotifications` (wo) Отключить уведомления на x секунд; 0 секунд для отмены таймера

### Метр
Установлены коммунальные счетчики.

- `actual` (ro) фактическое значение (число)
- `actual-formatted` (ro), если настроено, форматированное фактическое значение состояния (с использованием формата «Единица измерения» из Loxone Config)
- `total` (ro) общее значение (число)
- `total-formatted` (ro), если настроено, форматированное общее значение состояния (с использованием формата «Unit» из Loxone Config)
- `reset` (wo) запись любого значения в это состояние сбрасывает общее значение

### Детектор присутствия
Обеспечивается датчиком присутствия.

- состояние присутствия `active` (ro)
- `locked` (ro) заблокированное состояние
- `events` (ro) количество событий
- `infoText` (ro) причина блокировки датчика присутствия

### Нажать кнопку
Обеспечивается виртуальными кнопочными входами.

- `active` (rw) текущее состояние кнопки
- `pulse` (wo) запись любого значения в это состояние будет имитировать нажатие кнопки только на очень короткое время.

### Радио
Обеспечивается радиокнопками (8x и 16x).

- `activeOutput` (rw) ID текущего активного выхода или 0, если ни один из них не активен («Все выключены»)

### Удаленный
Предоставляется медиаконтроллером.
Только базовая функциональность только для чтения.

- `active` (ro) true, если Минисервер отправляет команды на переключение режимов или включение питания
- `mode` (ro) клавиша текущего режима или 0, если режим не выбран («Все выключены»)»
- `timeout` (ro) таймаут в миллисекундах

### Слайдер
Обеспечивается аналоговыми виртуальными входами.

- `value` (rw) текущее значение ползунка
- `value-formated` (ro), если настроено, форматированное значение состояния (с использованием формата «Unit» из Loxone Config)
- `error` (ro) указывает на недопустимое значение ползунка.

### Дымовая сигнализация
Установлены коммунальные счетчики.

- `nextLevel` (ro) идентификатор следующего уровня тревоги.
    - 1 = Тихий
    - 2 = Акустический
    - 3 = Оптический
    - 4 = Внутренний
    - 5 = Внешний
    - 6 = Удаленный
- `nextLevelDelay` (ro) задержка следующего уровня в секундах
- `nextLevelDelayTotal` (ro) общая задержка следующего уровня в секундах
- `level` (ro) идентификатор текущего уровня тревоги
    - 1 = Тихий
    - 2 = Акустический
    - 3 = Оптический
    - 4 = Внутренний
    - 5 = Внешний
    - 6 = Удаленный
- `сенсоры` (ro) список датчиков
- `acousticAlarm` (ro) состояние звукового сигнала тревоги false для неактивного и true для активного
- `testAlarm` (ro) активна ли тестовая сигнализация
- `alarmCause` (ro) причина тревоги:
    - 1 = только детектор дыма
    - 2 = только вода
    - 3 = дым и вода
    - 4 = только температура
    - 5 = огонь и температура
    - 6 = температура и вода
    - 7 = огонь, температура и вода
- `startTime` (ro) временная метка начала тревоги
- задержка `timeServiceMode` (rw) до отключения сервисного режима
- `mute` (wo) запись любого значения в это состояние отключает сирену
- `quit` (wo) запись любого значения в это состояние подтверждает срабатывание дымовой сигнализации

### Выключатель
Обеспечивается виртуальными входными переключателями.

- `active` (rw) текущее состояние коммутатора

### Состояние текста
Предоставлено «государством».

- `textAndIcon` (ro) текущее значение состояния

### Тайм-переключатель
Обеспечивается лестничной клеткой и многофункциональными переключателями.

- `deactivationDelayTotal` (ro) секунды, как долго выход будет активен, если используется таймер
- `deactivationDelay` (ro) обратный отсчет до деактивации выхода
    - 0 = выход выключен
    - -1 = выход постоянно включен
    - иначе будет отсчет от деактивацииDelayTotal
- `on` (wo) запись любого значения в это состояние включает постоянное переключение без задержки деактивации.
- `off` (wo) запись любого значения в это состояние отключает переключатель
- `pulse` (wo) подает импульс на переключатель:
    - деактивацияDelay = 0
        - Начнется обратный отсчет от деактивацииDelayTotal до 0.
    - если это лестничный выключатель:
        - деактивацияDelay = -1
            - Никакого эффекта, останется включенным постоянно.
        - задержка деактивации > 0
            - Перезапускает обратный отсчет
    - если это многофункциональный переключатель
        - выключает его (из обратного отсчета или постоянного включения)

### Трекер
Обеспечивается лестничной клеткой и многофункциональными переключателями.

- `entries` (ro) список записей, возвращаемых с минисервера

### Аналоговый ВверхВниз
Предоставляется виртуальным вводом (кнопки вверх-вниз).

- `value` (rw) текущее значение ввода
- `value-formated` (ro), если настроено, форматированное значение состояния (с использованием формата «Unit» из Loxone Config)
- `error` (ro) указывает на недопустимое значение ползунка.

### Выбор значения
Выбор значения.

- `value` (rw) текущее значение
- `min` (ro) текущее минимальное значение
- `max` (ro) текущее максимальное значение
- `step` (ro) текущее значение шага

### Оконный монитор
Установлены коммунальные счетчики.

- `numOpen` (ro) количество открытых окон и дверей
- `numClosed` (ro) количество закрытых окон и дверей.
- `numTilted` (ro) количество наклонённых окон и дверей.
- `numOffline` (ro) количество окон и дверей, которые недоступны.
- `numLocked` (ro) количество запертых окон и дверей.
- `numUnlocked` (ro) количество незапертых окон и дверей.

Сумма значений всех этих состояний равна количеству контролируемых окон и дверей.? Окна/двери с двумя состояниями всегда будут считаться «худшими».

Для каждого контролируемого окна/двери будет создано устройство с индексом в качестве идентификатора и заданного имени. Они имеют следующие состояния:

- `закрыто` (ro) окно/дверь закрыта
- `tilted` (ro) окно/дверь наклонено
- `open` (ro) окно/дверь открыта
- `locked` (ro) окно/дверь заперто
- `unlocked` (ro) окно/дверь разблокировано

## Сервер погоды
Информация о погодном сервере предоставляется в виде устройства с несколькими каналами.
Устройство называется `WeatherServer`.
Это содержит:

- канал «Актуальные» с текущими значениями погоды
- один канал на каждый час прогноза, называемый «ЧасXX», где «XX» — количество часов через данный момент.

Каждый канал содержит следующие состояния:

- `barometricPressure`: числовое значение барометрического давления.
- `barometricPressure-formated`: отформатированное значение барометрического давления с единицами измерения.
- `dewPoint`: числовое значение точки росы.
- `dewPoint-formatted`: форматированное значение точки росы с единицами измерения.
- `perceivedTemperature`: числовое значение воспринимаемой температуры.
- `perceivedTemperature-formated`: отформатированное значение воспринимаемой температуры с единицами измерения.
- `осадки`: числовое значение осадков.
- `precipitation-formated`: отформатированное значение осадков с единицами измерения.
- `relativeHumidity`: числовое значение относительной влажности.
- `relativeHumidity-formatted`: форматированное значение относительной влажности с единицами измерения.
- `solarRadiation`: значение солнечной радиации.
- `temperature`: числовое значение температуры.
- `temperature-formated`: значение температуры в формате с единицами измерения.
- `timestamp`: временная метка данных как `value.time` (время JavaScript)
- `weatherType`: числовое значение перечисления типа погоды.
- `weatherType-text`: текстовое представление типа погоды.
- `windDirection`: значение направления ветра.
- `windSpeed`: значение скорости ветра.
- `windSpeed-formatted`: форматированное значение скорости ветра с единицами измерения.

## Неподдерживаемые типы элементов управления
Когда Loxone добавляет новые типы элементов управления, они чаще всего не сразу поддерживаются этим адаптером.

В этом случае перед именем элемента управления будет стоять «Неизвестно:». Например. `Unknown: Wallbox`

Эти элементы управления будут содержать все состояния, о которых сообщает мини-сервер, но все они будут строками, доступными только для чтения.

Если вам нужна лучшая поддержка нового типа элемента управления, выполните действия, описанные в следующем разделе, чтобы запросить новую функцию.

**Sentry:** о неподдерживаемых типах элементов управления будет сообщено разработчикам с помощью Sentry. Таким образом, вы можете получить новые элементы управления в следующем выпуске, не запрашивая их самостоятельно.

## Отчеты об ошибках и запросы функций
Используйте репозиторий GitHub, чтобы сообщать об ошибках или запрашивать новые функции.

Если вам требуется неподдерживаемый тип элемента управления, укажите имя, указанное в журнале ошибок ioBroker, а также все необработанное содержимое устройства в дереве объектов ioBroker:

Пример файла журнала для «LightController»:

![Журнал отсутствия элемента управления LightController](../../../en/adapterref/iobroker.loxone/doc/log-missing-control-type.png)

Собственное значение из ioBroker &gt; Объекты

![Подробности об отсутствующем элементе управления LightController](../../../en/adapterref/iobroker.loxone/doc/details-missing-control-type.png)

## Юридическая информация
Этот проект не связан прямо или косвенно с компанией Loxone Electronics GmbH.

Loxone и Miniserver являются зарегистрированными торговыми марками Loxone Electronics GmbH.

## Changelog

<!--
    Placeholder for the next version (at the beginning of the line):
    ### **WORK IN PROGRESS**
-->

### **WORK IN PROGRESS**

-   (raintonr) Set correct min/max target on IRCv2 when in override (#528)

### 3.0.1 (2023-03-30)

-   (raintonr) Added info statistics (#364)
-   (raintonr) Added missing states from IRCv2 (#365)
-   (raintonr) Added basic functionality for Remote (Media Controller)
-   (raintonr) Fixed ack overwrites of fast changing states (#399) and general ack improvements
-   (raintonr) Fix crash when state changes occur during Miniserver reboot or otherwise unavailable (#298)
-   (raintonr) Release script and other dependency updates

### 3.0.0 (2021-12-29)

-   (tdesmet) Changed to lxcommunicator (fixes #210)
-   (UncleSamSwiss) Updated all dependencies

### 2.2.3 (2021-07-06)

-   (UncleSamSwiss) Reduced number of Sentry reports for unsupported controls.

### 2.2.2 (2021-06-23)

-   (UncleSamSwiss) Explicitly setting adapter tier to 2.
-   (UncleSamSwiss) Added support for Daytimer (IOBROKER-LOXONE-1Z)
-   (UncleSamSwiss) Added support for Radio (IOBROKER-LOXONE-21)
-   (UncleSamSwiss) Added support for Fronius (IOBROKER-LOXONE-1Y)
-   (UncleSamSwiss) Added support for IRCDaytimer (IOBROKER-LOXONE-27)
-   (UncleSamSwiss) Added support for Hourcounter (IOBROKER-LOXONE-23)
-   (UncleSamSwiss) Added support for InfoOnlyText (IOBROKER-LOXONE-29)
-   (UncleSamSwiss) Fixed issues with Lumitech color pickers (#150)

### 2.2.1 (2021-05-18)

-   (UncleSamSwiss) Fixed typo causing "Cannot read property 'off' of undefined" (IOBROKER-LOXONE-2R, #72)
-   (UncleSamSwiss) Improved Sentry reporting for structure file

### 2.2.0 (2021-05-17)

-   (UncleSamSwiss) Unknown/unsupported controls are now shown with their states as read-only strings
-   (raintonr) Fixes for auto-position based on percentage (#76)
-   (raintonr) Added support for IRoomControllerV2 (#22)
-   (UncleSamSwiss) Added experimental support for EIBDimmer (#15)
-   (UncleSamSwiss) Added support for ValueSelector (#36)
-   (UncleSamSwiss) Added support for TextState (#73)
-   (UncleSamSwiss) Added support for UpDownAnalog (#57)
-   (UncleSamSwiss) Fixed some "State has wrong type" warnings (#99, #128)
-   (UncleSamSwiss) Added support for Lumitech color picker (#44)
-   (UncleSamSwiss) Weather server data can now be filtered (#131)
-   (UncleSamSwiss) Added support for PresenceDetector (IOBROKER-LOXONE-1R)
-   (UncleSamSwiss) Added support for AAL Smart Alarm (IOBROKER-LOXONE-1X)
-   (UncleSamSwiss) Added support for AAL Emergency Button (IOBROKER-LOXONE-1W)
-   (UncleSamSwiss) Added support for Paketsafe (IOBROKER-LOXONE-1P)

### 2.1.0 (2020-12-21)

-   (raintonr) Fixed: activeMoods can get stuck/not sync properly; all events is now handled with a queue (#58, #61, #62)
-   (raintonr) Added open/close buttons to Garage/Gate Control (#59, #60)
-   (pinkit) Added support for virtual text inputs (#48)
-   (UncleSamSwiss) Updated to the latest adapter template
-   (UncleSamSwiss) Changed log level of "Currently unsupported control type" message to "info" (#65)

### 2.0.2 (2020-10-26)

-   (UncleSamSwiss) Fixed color picker updates (#52)
-   (UncleSamSwiss) TimedSwitch to have `on`/`off` instead of `active` (#53)
-   (UncleSamSwiss) Cleaning illegal characters for room and function names (#54)

### 2.0.1 (2020-09-24)

-   (UncleSamSwiss) Fixed percentage states always showing 0% (#49)
-   (UncleSamSwiss) Fixed analog virtual inputs wouldn't set the value 0 from ioBroker (#47)
-   (UncleSamSwiss) Added translations to package information.

### 2.0.0

-   **BREAKING:** Since the password is now encrypted, you will need to enter the password again after an update to this version!
-   (UncleSamSwiss) Updated to the latest development tools and changed to the TypeScript language

### 1.1.0

-   (UncleSamSwiss) Added support for Miniserver Gen 2
-   (sstroot) RGB for LightControllerV2
-   (Apollon77) Updated CI Testing

### 1.0.0

-   (UncleSamSwiss) Fixed issue that was resetting the custom settings and cloud smartName
-   (alladdin) Fixed connection issues with Loxone Miniserver 10
-   (UncleSamSwiss) Changed all write-only "switch"es to "button"s
-   (UncleSamSwiss) Added support for AlarmClock control
-   (Apollon77) Updated CI Testing

### 0.4.0

-   (UncleSamSwiss) Improved support for Loxone Config 9
-   (UncleSamSwiss) Changed all color choosers (i.e. color lights) to use RGB (previously HSV/HSL was completely wrong)

### 0.3.0

-   (UncleSamSwiss) Control names only synchronized on the first time by default (configurable); users can change control names the way they want

### 0.2.1

-   (UncleSamSwiss) Added support for Slider control

### 0.2.0

-   (UncleSamSwiss) Added proper support for Alexa for the following controls: Alarm, AudioZone, Gate, Jalousie and LightController

### 0.1.1

-   (UncleSamSwiss) Added support for synchronizing rooms and functions (categories) from Loxone Miniserver

### 0.1.0

-   (UncleSamSwiss) Added support for many more controls including commands from ioBroker to Loxone Miniserver

### 0.0.3

-   (Bluefox) Formatting, refactoring and Russian translations

### 0.0.2

-   (UncleSamSwiss) Added creation of an empty device for all unsupported controls (helps figure out its configuration)

### 0.0.1

-   (UncleSamSwiss) Initial version

## License

Copyright 2023 UncleSamSwiss

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
