---
translatedFrom: en
translatedWarning: Если вы хотите отредактировать этот документ, удалите поле «translationFrom», в противном случае этот документ будет снова автоматически переведен
editLink: https://github.com/ioBroker/ioBroker.docs/edit/master/docs/ru/adapterref/iobroker.squeezeboxrpc/README.md
title: Адаптер ioBroker Logitech/Lyrion Squeezebox через протокол JSON/RPC
hash: d2rhnJVg7WXYF2uQi4EjwYWJP7UGtasXYe9pHV+GgJY=
---
![Логотип](../../../en/adapterref/iobroker.squeezeboxrpc/admin/squeezeboxrpc.png)

![версия НПМ](https://img.shields.io/npm/v/iobroker.squeezeboxrpc.svg)
![Загрузки](https://img.shields.io/npm/dm/iobroker.squeezeboxrpc.svg)
![Количество установок](https://iobroker.live/badges/squeezeboxrpc-installed.svg)
![Текущая версия в стабильном репозитории](https://iobroker.live/badges/squeezeboxrpc-stable.svg)
![НПМ](https://nodei.co/npm/iobroker.squeezeboxrpc.png?downloads=true)

# Адаптер ioBroker Logitech/Lyrion Squeezebox через протокол JSON/RPC
**Тесты:** ![Тест и выпуск](https://github.com/oweitman/ioBroker.squeezeboxrpc/workflows/Test%20and%20Release/badge.svg)

Это альтернативный адаптер, который использует протокол `JSON/RPC` для получения данных и отправки команд на Logitech Media Server/Lyrion Media Server ([СУО](https://de.wikipedia.org/wiki/Lyrion_Music_Server)) для управления подключенными устройствами, такими как

- родной [squeezebox](https://de.wikipedia.org/wiki/Squeezebox),
- Raspberry Pi с дополнительным аудиомодулем и небольшими прошивками на базе Linux

как [picoreplayer](https://picoreplayer.org/) или [max2play](https://www.max2play.com).

- WiiM Multiroom Audio ([может взаимодействовать с сервером LMS/Lyrion](https://faq.wiimhome.com/en/support/solutions/articles/72000610226-how-to-stream-music-from-lms-to-your-wiim-device-with-squeezelite))
- с плагинами chromecast, airplay или `UPnP/DLNA`-устройствами

Сервер `LMS` может управлять/предоставлять очень большие музыкальные коллекции на жестких дисках или `NAS`, подключаться к различным потоковым провайдерам, таким как `Spotify`, `Deezer`, `Soundcloud`, `shoutcast`, `tunein`, `napster`, `pandora`, `tidal` и другим.

## Функции
- большая часть [данных](#server), которые предоставляет `LMS`-Service, доступна в адаптере
- подробная [информация](#players) о статусе игрока, названии песни, исполнителе,

альбом, обложка, плейлист

- [множество функций управления](#provided-states) для воспроизведения, паузы, остановки, перемотки вперед,\

перемотка назад, повтор, перемешивание, воспроизведение избранного, переход к времени (абсолютному и относительному), переход к индексу плейлиста (абсолютному и относительному), кнопки включения/выключения питания и предустановки

- все [избранное](#избранное) и все подуровни с сервера
- многие [виджеты](#widgets) для компонента iobroker-vis включены в\

создавать собственные пользовательские интерфейсы управления (выбор плеера, выбор избранного, управление синхронизированными группами, кнопки для воспроизведения/паузы, перемотки вперед, назад, выбора режима повтора и режима случайного воспроизведения)

## Установка
- Установить пакет
- Создать экземпляр
- Настройте экземпляр с IP-адресом медиасервера logitech/Lyrion.

и порт (обычно 9000)

- запустить/перезапустить экземпляр

## Обновлять
- После установки или обновления иногда может возникнуть необходимость\

выполнить следующую команду, если возникли проблемы в vis-1

`iobroker upload squeezeboxrpc`

## Предоставленные состояния
### Сервер
| Состояние | Описание |
| ------------------ | ----------------------------- |
| `LastScan` | временная метка последнего сканирования музыки |
| `PlayerCountOther` | Количество известных других игроков |
| `PlayerCountSN` | Количество известных игроков SN |
| `TotalAlbums` | Количество всех известных альбомов |
| `TotalArtists` | Количество всех известных исполнителей |
| `TotalDuration` | Суммарное время воспроизведения всех песен |
| `TotalGenres` | Количество всех известных жанров |
| `TotalSongs` | Количество всех известных песен |
| `SyncGroups` | Существующие синхронизирующие группы |
| `Version` | Версия `LMS` |
| `mac` | MAC-ID сервера |
| `uuid` | uuid экземпляра `LMS` |
| `uuid` | uuid экземпляра `LMS` |

дополнительная определенная кнопка для обновления избранного

| кнопка | Описание |
| -------------- | --------------------------------- |
| `getFavorites` | запросить все избранное с сервера |

### Избранное
Для каждого избранного Все атрибуты доступны только для чтения

| Состояние | Описание |
| ---------- | ------------------------------------------ |
| `Name` | Имя фаворита |
| `id` | id избранного |
| `image` | изображение/значок для избранного, если доступно |
| `isaudio` | isaudio |
| `type` | Примеры типов: ссылка, текст, аудио, плейлист |
| `url` | URL-адрес трека |
| `url` | URL-адрес трека |

Доступны все подуровни (подкаталоги) избранного.

### Игроки
для каждого игрока Режим показывает, можно ли изменить значение. Предпринятое действие описано в атрибуте

| Состояние | режим | Описание |
| ---------------------- | ---- | -------------------------------------------------------------------------------------------------------------------- |
| `Alarms` | R/- | Все зарегистрированные сигналы тревоги для этого игрока в формате JSON |
| `Artist` | R/- | Имя исполнителя |
| `ArtworkUrl` | R/- | URL-адрес произведения искусства |
| `Bitrate` | R/- | Битрейт трека |
| `Connected` | R/- | состояние соединения игрока (0/1) |
| `Duration` | R/- | Продолжительность трека |
| `Genre` | R/- | жанр трека |
| `IP` | R/- | IP игрока |
| `Mode` | R/- | воспроизведение / пауза / остановка |
| `Playername` | R/- | Имя игрока |
| `PlayerID` | R/- | ID игрока |
| `Playlist` | R/- | Фактический плейлист в формате JSON |
| `PlaylistCurrentIndex` | R/W | перейти к абсолютной позиции, указав индекс трека, или перейти к относительной позиции, указав + или - в начале. Пример 10,-3,+2 |
| `PlaylistRepeat` | R/W | Повторить песню(1)/плейлист(2)/не повторять(0) |
| `PlaylistShuffle` | R/W | перемешать плейлист(1)/перемешать альбом(2)/не перемешивать(0) |
| `Power` | R/W | получить/установить состояние питания проигрывателя выкл(0)/вкл(1) |
| `RadioName` | R/- | Название радиостанции |
| `Rate` | R/- | Рейтинг песни |
| `Remote` | R/- | Если удаленный поток (1) |
| `SyncMaster` | R/- | ID/MAC Syncmaster |
| `SyncSlaves` | R/- | ID/Mac игроков в Syncgroup |
| `Time` | R/- | прошедшее время песни |
| `Title` | R/- | название песни |
| `Type` | R/- | тип носителя (например, MP3 Radio) |
| `Url` | R/- | URL-адрес трека / потока |
| `Volume` | R/W | получить/установить громкость плеера (0-100) |
| `state` | Чтение/запись | получить/установить состояние воспроизведения: пауза(0),воспроизведение(1),стоп(2) |
| `state` | R/W | получить/установить состояние воспроизведения: pause(0),play(1),stop(2) |

Список воспроизведения предоставляет фактические следующие атрибуты, если они доступны в `LMS`.
Некоторые атрибуты зависят от типа песен (поток/файл/...) Все атрибуты доступны только для чтения

| Атрибут | Описание |
| ------------ | --------------------------------- |
| `Album` | Название текущего альбома |
| `ArtworkUrl` | URL-адрес произведения искусства |
| `Bitrate` | Битрейт трека |
| `Duration` | Продолжительность трека |
| `RadioName` | Название радиостанции |
| `Rate` | Рейтинг песни |
| `title` | название песни |
| `Type` | тип носителя (например, MP3-радио) |
| `url` | URL-адрес трека / потока |
| `index` | индекс песни в плейлисте |
| `id` | идентификатор песни |
| `id` | идентификатор песни |

дополнительные определенные кнопки:

| Кнопка | Описание |
| ----------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `btnForward` | Следующая песня |
| `btnPreset\_\*` | 1-6 кнопок для определения в плеере или на сервере |
| `cmdGeneral` | общее поле команд для отправки команд игроку. каждое поле должно быть заключено в кавычки. параметры должны быть разделены запятыми. Пример: "play","1" |
| `cmdPlayFavorite` | чтобы воспроизвести избранное, установите идентификатор избранного |
| `cmdPlayUrl` | для воспроизведения URL-адреса´example "<http://50.7.77.114:8101/>;" |
| `cmdGoTime` | перейти к абсолютной позиции, указав количество секунд, или перейти к относительной позиции, указав + или - в начале секунд. Пример 100,-50,+50 |
| `cmdGoTime` | перейти к абсолютной позиции, указав количество секунд, или перейти к относительной позиции, указав + или - в начале секунд. Пример 100,-50,+50 |

#### Замечания по точкам данных в зависимости от настройки TPE2 в LMS
В зависимости от настройки, в точки данных доставляются различные теги MP3.
Имена, начинающиеся с заглавной буквы, — это имена тегов MP3

| Настройка TPE2 в LMS | Артист | Исполнитель альбома | Исполнитель трека | Группа |
| ------------------------------ | ----------- | ----------- | ----------- | ----------- |
| как группа | АРТИСТ | пусто | АРТИСТ ТРЕКА | АРТИСТ АЛЬБОМА |
| как исполнители альбома | АЛЬБОМИСТ | АЛЬБОМИСТ | пусто | пусто |

Следует также отметить, что после внесения изменений в систему управления доступом (LMS) необходимо заново выполнить поиск и индексацию всей библиотеки, а также остановить и перезапустить песню, прежде чем система управления доступом (LMS) предоставит другие данные.

### Дополнительная документация API
Для получения более подробной информации посетите документацию CLI:

<https://github.com/oweitman/LMS-CLI-Documentation/blob/master/LMS-CLI.md>

## Виджеты
### Панель кнопок проигрывателя
![Панель кнопок проигрывателя](../../../en/adapterref/iobroker.squeezeboxrpc/widgets/squeezeboxrpc/img/players.png)

Все проигрыватели, интегрированные в ваш Logitech/Lyrion Media Server, можно выбрать с помощью этого виджета. После выбора экземпляра `squeezerpc.?` доступные проигрыватели отображаются в виджете.

#### Атрибуты
| Группа | Атрибут | Описание |
| ----------------------- | --------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Экземпляр SqueezeboxRPC | Общая группа | Выберите экземпляр адаптера squeezeboxrpc. Только они распознаются здесь как действительные. |
| Формат виджета | Общая группа | Здесь можно выбрать тип виджета. Тип "formatbutton" имеет полный набор функций и также работает с виджетом SyncGroup. Тип "formatselect" представляет собой простое поле выбора. В качестве имени используется имя игрока или индивидуальный текст. |
| Отображение индекса | Общая группа | Отдельные кнопки можно скрыть или отобразить в другом порядке, удалив индекс кнопки. Чтобы скрыть их, просто удалите соответствующую позицию индекса, включая запятую. Номера индексов отображаются на соответствующей кнопке в режиме редактирования, если включена справка режима редактирования. |
| Разрыв строки в CamelCase | Общая группа | Если имя игрока написано в CamelCase, здесь можно активировать разрыв строки, чтобы имя игрока отображалось на кнопке крупнее. |
| Справка по режиму редактирования | Общая группа | Если эта справка активирована, на соответствующей кнопке отображаются индексные номера, а настройка «прозрачности» в настройках кнопки не действует. |
| Ширина изображения | Настройки кнопки | Ширина изображения кнопки |
| Высота изображения | Настройки кнопки | Высота изображения кнопки |
| Прозрачность | настройки кнопок | Если кнопка не активирована, она скрыта на фоне. 0 = Невидима, 1 = Полностью видна |
| Ширина границы | Настройки кнопки | Ширина границы в пикселях вокруг кнопки |
| Отображение границы | настройки кнопок | Тип отображения границы, например, сплошная, пунктирная. |
| Обычный цвет границы | Настройки кнопки | Если кнопка не активирована, она отображается этим цветом. |
| Цвет границы активен | Настройки кнопки | Если кнопка активирована, она отображается этим цветом. |
| border-radius | настройки кнопки | Здесь можно ввести радиус в пикселях для изогнутых углов границы. |
| Цвет фона | настройки кнопок | Цвет фона для текста |
| Изображение | button[x] | Изображение можно определить индивидуально здесь. Изображение имеет приоритет над текстом. |
| Текст | кнопка[x] | Текст можно определить индивидуально здесь. Изображение имеет приоритет над текстом. |

### Панель кнопок избранного
![Панель кнопок «Избранное»](../../../en/adapterref/iobroker.squeezeboxrpc/widgets/squeezeboxrpc/img/favorites.png)

Вы можете использовать этот виджет для выбора всех избранных, которые были\созданы на вашем Logitech/Lyrion Media Server.
После выбора виджета проигрывателя доступные избранные отображаются в виджете.

| Группа | Атрибут | Описание |
| ------------------- | --------------- | ----------------------------------------------------------------------------------------------------- |
| Виджет плеера | Общая группа | Выберите виджет плеера. |
| Отображение индекса | Общая группа | Отдельные кнопки можно скрыть или отобразить в другом порядке с помощью индекса. |
| Справка по режиму редактирования | Общая группа | Если эта справка активирована, на каждой соответствующей кнопке отображаются индексные номера. |
| Ширина изображения | Настройки кнопки | Ширина изображения кнопки |
| Высота изображения | Настройки кнопки | Высота изображения кнопки |
| Прозрачность | настройки кнопок | Если кнопка не активирована, она скрыта на фоне. 0 = Невидима, 1 = Полностью видна |
| Ширина границы | Настройки кнопки | Ширина границы в пикселях вокруг кнопки |
| Отображение границы | настройки кнопок | Тип отображения границы, например, сплошная, пунктирная. |
| Обычный цвет границы | Настройки кнопки | Если кнопка не активирована, она отображается этим цветом. |
| Цвет границы активен | настройки кнопки | Если кнопка активирована, она отображается этим цветом. |
| border-radius | настройки кнопки | Здесь можно ввести радиус в пикселях для изогнутых углов границы. |
| Цвет фона | настройки кнопок | Цвет фона для текста |
| Изображение | button[x] | Здесь можно индивидуально определить изображение. Изображение имеет приоритет над текстом. |
| Текст | кнопка[x] | Текст может быть индивидуально определен здесь. Изображение имеет приоритет над текстом. |

### Кнопка воспроизведения
![Кнопка воспроизведения](../../../en/adapterref/iobroker.squeezeboxrpc/widgets/squeezeboxrpc/img/play.png)

Кнопка воспроизведения запускает или останавливает музыку на выбранном проигрывателе.\ Для подготовки необходимо подключить кнопку к виджету проигрывателя.\ Кнопка имеет собственную графику (SVG),\ либо вы также можете выбрать свою собственную графику.

#### Атрибуты для кнопки воспроизведения
| Группа | Атрибут | Описание |
| ------------- | ------------------ | ------------------------------- |
| Виджет плеера | Общая группа | Выбор виджета плеера. |
| Пауза изображения | Общая группа | Изображение для паузы |
| Воспроизвести изображение | Общая группа | Изображение для воспроизведения |
| Изображение остановки | Общая группа | Изображение для остановки |
| fillcolor | Группа настроек SVG | Цвет заливки кнопки |
| strokecolor | Группа настроек SVG | Цвет границы |
| strokewidth | Группа настроек SVG | Ширина границы в пикселях |

### Вперед
![Вперед](../../../en/adapterref/iobroker.squeezeboxrpc/widgets/squeezeboxrpc/img/fwd.png)

Виджет «Вперед» позволяет переходить вперед по текущему треку. Кнопку можно настроить для перехода вперед на определенное количество времени, если проигрыватель поддерживает эту функцию.

#### Атрибуты для кнопки «Вперед»
| Группа | Атрибут | Описание |
| ------------- | ------------- | ---------------------------------------------------------------- |
| Виджет плеера | Общая группа | Выбор виджета плеера. |
| Размер шага | Общая группа | Указывает количество времени в секундах для пропуска вперед. |
| Метка кнопки | Общая группа | Настраиваемая метка для кнопки. |
| Значок кнопки | Общая группа | Выбор значка для кнопки, например, для перехода вперед. |

### Перемотка назад
![Перемотка назад](../../../en/adapterref/iobroker.squeezeboxrpc/widgets/squeezeboxrpc/img/rew.png)

Виджет «Перемотка назад» позволяет вернуться назад по текущему треку. Подобно виджету «Вперед», можно установить период времени.

#### Атрибуты для кнопки «Перемотка назад»
| Группа | Атрибут | Описание |
| ------------- | ------------- | ------------------------------------------------------------- |
| Виджет плеера | Общая группа | Выбор виджета плеера. |
| Размер шага | Общая группа | Указывает период времени в секундах, на который следует вернуться назад. |
| Метка кнопки | Общая группа | Настраиваемая метка для кнопки. |
| Символ кнопки | Общая группа | Выбор символа для кнопки, например, для перехода назад. |

### Повторить
![Повторить](../../../en/adapterref/iobroker.squeezeboxrpc/widgets/squeezeboxrpc/img/repeat0.svg)

Виджет «Повтор» позволяет активировать или деактивировать функцию повтора для текущего трека или плейлиста, если эта функция поддерживается плеером.

#### Атрибуты для кнопки «Повторить»
| Группа | Атрибут | Описание |
| ------------- | ------------- | ------------------------------------------------------------------------------------------- |
| Виджет плеера | Общая группа | Выбор виджета плеера. |
| Метка кнопки | Общая группа | Настраиваемая метка для кнопки. |
| Символ кнопки | Общая группа | Выбор символа для кнопки, например, для повтора. |
| Режим повтора | Общая группа | Здесь можно выбрать режим, например, повтор одного трека (трека) или повтор списка (плейлиста). |

### Перемешать
![Перемешать](../../../en/adapterref/iobroker.squeezeboxrpc/widgets/squeezeboxrpc/img/shuffle0.svg)

Виджет «Перемешивание» включает или отключает перемешивание для текущего плейлиста, если эта функция поддерживается плеером.

#### Атрибуты для кнопки «Перемешать»
| Группа | Атрибут | Описание |
| ------------- | ------------- | ------------------------------------------------------- |
| Виджет плеера | Общая группа | Выбор виджета плеера. |
| Метка кнопки | Общая группа | Настраиваемая метка для кнопки. |
| Значок кнопки | Общая группа | Выбор значка для кнопки, например, для перемешивания. |
| Включенное состояние | Общая группа | Цвет или стиль кнопки при включенном перемешивании. |

### Объем
![Объем](../../../en/adapterref/iobroker.squeezeboxrpc/widgets/squeezeboxrpc/img/volume.png)

Виджет «Громкость» отображает текущий уровень громкости плеера и позволяет регулировать громкость.

#### Атрибуты для кнопки громкости
| Группа | Атрибут | Описание |
| --------------------------- | ------------- | ----------------------------------------------------------------- |
| Виджет плеера | Общая группа | Выбор виджета плеера. |
| Размер шага громкости | Общая группа | Задает размер шага для увеличения или уменьшения громкости. |
| Максимальная громкость | Общая группа | Устанавливает максимальное значение громкости, например, 100. |
| Основной цвет панели громкости | Общая группа | Цвет области панели, представляющей текущий уровень громкости. |
| Цвет фона панели громкости | Общая группа | Цвет области панели, которая не покрыта громкостью. |
| Значок кнопки | Общая группа | Выбор значка для регулятора громкости. |

### Панель кнопок SyncGroup
![Панель кнопок SyncGroup](../../../en/adapterref/iobroker.squeezeboxrpc/widgets/squeezeboxrpc/img/syncgroups.png)

Этот виджет можно использовать совместно с виджетом проигрывателя для управления\ синхронизацией проигрывателей друг с другом.
Большинство настроек количества кнопок, меток или изображений берет на себя виджет проигрывателя.
Для подготовки необходимо подключить кнопку к виджету проигрывателя.
После выбора проигрывателя в виджете проигрывателя текущая синхронизация\ отображается в виджете SyncGroup.
Статус синхронизации отображается с помощью различных настраиваемых цветов.
Выбранный в виджете проигрывателя проигрыватель не может быть выбран в виджете SyncGroup.
Если в виджете SyncGroup выбран проигрыватель, который уже находится в\ другой группе, он автоматически удаляется из этой группы.

#### Атрибуты для кнопки SyncGroup
| Группа | Атрибут | Описание |
| ----------------------------- | --------------- | ---------------------------------------------------------------------------------------------- |
| Виджет плеера | Общая группа | Выбор виджета плеера. |
| Ширина границы | Настройки кнопки | Ширина границы/ширина границы в пикселях вокруг кнопки. |
| Отображение границы | настройки кнопок | Тип отображения границы, например сплошная, пунктирная. |
| Цвет границы - Не в группе | Настройки кнопки | Кнопка получает рамку этого цвета, если игрок не находится в группе. |
| Цвет границы - В группе | Настройки кнопки | Кнопка получает границу этого цвета, если игрок находится в группе с выбранным игроком. |
| Цвет границы - В другой группе | Настройки кнопки | Кнопка получает рамку этого цвета, если игрок находится в другой группе. |
| border-radius | настройки кнопки | Здесь можно ввести радиус в пикселях для изогнутых углов границы. |
| Цвет фона | настройки кнопок | Цвет фона для текста. |

### Игровая панель
![Бар для игр](../../../en/adapterref/iobroker.squeezeboxrpc/widgets/squeezeboxrpc/img/playtime.png)

Полоса времени воспроизведения визуально отображает ход воспроизведения песни, которая в данный момент проигрывается,\ при условии, что сервер предоставляет общее время воспроизведения (продолжительность).\ Обычно это не относится к онлайн-трансляциям. Ширина полосы\ соответствует 100% времени воспроизведения песни. Нажав на точку на полосе, вы можете перейти к нужному моменту в песне.\ Для подготовки необходимо подключить кнопку к виджету плеера.

#### Атрибуты для панели времени воспроизведения
| Группа | Атрибут | Описание |
| -------------- | ------------- | --------------------------------------------------------------- |
| Виджет плеера | Общая группа | Выбор виджета плеера. |
| Основной цвет панели | Общая группа | Цвет фона панели для еще не сыгранного времени. |
| Цвет времени воспроизведения | Общая группа | Цвет полосы времени воспроизведения. |
| Ширина рамки | Общая группа | Ширина рамки/ширина границы в пикселях вокруг кнопки. |
| Отображение границы | Общая группа | Тип отображения границы, например сплошная, пунктирная. |
| Цвет границы | Общая группа | Цвет границы вокруг панели. |
| радиус границы | Общая группа | Здесь можно ввести радиус в пикселях для изогнутых углов края. |

### Строка/строка символов
![Нить](../../../en/adapterref/iobroker.squeezeboxrpc/widgets/squeezeboxrpc/img/string.png)

Отображение строк символов, специфичных для игрока. Для подготовки необходимо подключить кнопку к виджету игрока.

#### Атрибуты для строки
| Группа | Атрибут | Описание |
| ---------------- | ------------- | ----------------------------------------------------------------- |
| Виджет плеера | Общая группа | Выбор виджета плеера. |
| Атрибут игрока | Общая группа | Список выбора всех доступных атрибутов игрока. |
| Тестовый текст | Общая группа | Текст, который должен отображаться в редакторе для целей тестирования. |

### Число
![Число](../../../en/adapterref/iobroker.squeezeboxrpc/widgets/squeezeboxrpc/img/number.png)

Отображение чисел с дополнительными возможностями форматирования. Для подготовки необходимо подключить кнопку к виджету плеера.

#### Атрибуты для числа
| Группа | Атрибут | Описание |
| --------------------- | ----------------- | ----------------------------------------------------------------- |
| Виджет плеера | Общая группа | Выбор виджета плеера. |
| Атрибут игрока | Общая группа | Список выбора всех доступных атрибутов игрока. |
| Добавить HTML | Общая группа | Текст или HTML-код, который помещается перед числом. |
| Добавить HTML | Общая группа | Текст или HTML-код, который добавляется к номеру. |
| Тестовый текст | Общая группа | Текст, который должен отображаться в редакторе для целей тестирования. |
| Символ после запятой | Расширенные настройки | Количество знаков после запятой. |
| Запятая как разделитель | Расширенные настройки | Запятая используется для разделения десятичных знаков. |
| Разделитель тысяч | Расширенные настройки | Для больших чисел разделитель вставляется через каждые 3 знака. |

### Плейлист
![Число](../../../en/adapterref/iobroker.squeezeboxrpc/widgets/squeezeboxrpc/img/playlist.png)

Отобразить плейлист с сервера. Если нажать на запись, плейлист загрузится и запустится проигрыватель.
Виджет не обновляется автоматически, нужно нажать кнопку обновления.

#### Атрибуты для плейлиста
| Группа | Атрибут | Описание |
| --------------------- | ----------------- | ----------------------------------------------------------------- |
| Виджет плеера | Общая группа | Выбор виджета плеера. |

Сам виджет имеет очень мало форматирования.
Для самостоятельного форматирования есть несколько предопределенных css-классов:

| CSS-класс | описание |
| ---------- | ----------------------------------------- |
| plcontainer| Имя класса, назначенное ul-тегу |
| plentry | Имя класса, назначенное li-tag |
| plrefresh | Имя класса, назначенное тегу refresh-li |
| pltext | Имя класса, назначенное имени плейлиста |

Следующий CSS для вкладки vis-css может служить примером:

Темный режим

```css
.plentry {
    border: 1px #505050 groove;
    margin:1px 0px;
    padding:5px;
    background-color:#202020;
}
.plrefresh {
    padding:5px;
}
.plentry:hover {
    background-color:#404040;
}
.plrefresh svg {
    color:#cccccc;
}
.plrefresh svg:hover {
    color:#ffffff;
    filter: drop-shadow(0px 0px 1px #87ceeb);
}
```

Световой режим

```css
.plentry {
    border: 1px #b0b0b0 groove;
    margin:1px 0px;
    padding:5px;
    background-color:#c0c0c0;
}
.plrefresh {
    padding:5px;
}
.plentry:hover {
    background-color:#e0e0e0;
}
.plrefresh svg {
    color:#444444;
}
.plrefresh svg:hover {
    color:#000000;
    filter: drop-shadow(0px 0px 1px #87ceeb);
}
```

## SendTo-Befehle
### CmdGeneral
Эту команду можно использовать для отправки любой команды на сервер LMS для получения ответа.

Пример:

**Все плейлисты:**

```js
async function main() {
  let data = await sendToAsync("squeezeboxrpc.0", "cmdGeneral", {
    playerid: "",
    cmdArray: ["playlists", "0", "999", "tags:us"],
  });
  console.log(JSON.stringify(data));
}
main();
```

**Все избранные:**

Эта команда используется адаптером для загрузки избранного.

```js
async function main() {
  let data = await sendToAsync("squeezeboxrpc.0", "cmdGeneral", {
    playerid: "",
    cmdArray: ["favorites", "items", "0", "999", "want_url:1", "item_id:"],
  });
  console.log(JSON.stringify(data));
}
main();
```

Дополнительные параметры и подробные описания параметров содержатся в следующей документации CLI:

[CLI-документация](#further-api-documentation)

## То, что нужно сделать
- больше тестирования/исправления
- уменьшить зависимости от других пакетов (squeezenode)
- больше настроек для опционального включения/выключения функций для улучшения памяти и производительности
- добавить виджет плейлиста
- добавить виджет просмотра для просмотра в меню `LMS`
- добавить виджет круглой ручки, управляемой игроком
- остановить воспроизведение при повторном нажатии кнопки избранного.
- cmdGeneral для сервера.
- ~~добавлено telnet-соединение для получения push-событий с сервера на\

оптимизируйте опрос~~

- ~~реализовать состояние команды для размещения индивидуальных команд пользователя (через json)\

для сервера и игрока~~

- ~~реализация дополнительных функций управления (выбор позиции плейлиста для воспроизведения, ffwd, frew,\

перейти к нужной временной позиции в песне,повторить песню,случайная песня)~~

- ~~добавить плейлист в playerdata как массив json~~
- ~~добавлять обложку (логотип станции/обложка плейлиста) для избранного~~
- ~~реализовать больше уровней (подкаталогов) избранного~~
- ~~автоматическое обнаружение сервера Logitech Media~~

## Changelog

<!--
  Placeholder for the next version (at the beginning of the line):
   ### **WORK IN PROGRESS**

-->
### **WORK IN PROGRESS**

- upgrade dependency js-controller

### 1.5.2 (2024-12-16)

- fix spelling of iobroker upload squeezeboxrpc in readme
- fix playtime bar

### 1.5.1 (2024-11-29)

- improve documentation
- remove margin from plcontainer
- improve textoverflow with ellipsis
- adjust initial widgetsize of playlist widget
- repair attributes for playlist widget
- add light mode css for playlist widget

### 1.5.0 (2024-11-28)

- Switch to iobroker/eslint
- New widget playlist

### 1.4.0 (2024-11-27)

- fix some missing objects errors
- sanitize more playernames in syncgroups
- add sendTo Command "cmdGeneral"
- sanitize more the playername
- improve translation
- if trackartist is avail then write to artist if empty
- improve handling for artwork_url
- move widget documentation from html to markdown
- adjust responsive tab style
- improve attribute widgets
- change TPE2 handling once more
- jsonConfig add sizing options for differenz screen sizes
- test implementation of TPE2 handling. switch in settings
- add datapoints album_artist, track_artist, artistOriginal

### 1.3.17 (2024-10-23)

- add edit button to the vie index field of favorites widget

### 1.3.16 (2024-10-23)

- fixed icons of the favorites widget

### 1.3.15 (2024-08-09)

- due to a adapter checker issue i have to remove the release 1.3.13 from npm.
  but changes from 1.3.13 are included in 1.3.14

### 1.3.14 (2024-08-05)

- fix formatting

### 1.3.13 (2024-08-05)

- revert the fix for artist handling due to negative effect of spotify

### 1.3.12 (2024-08-05)

- improve cmdGoto handling by kairauer, close PR #74
- fix issues from adapter checker
- integrate squeezenode lib

### 1.3.11 (2024-08-05)

- update adapter structure and switch to jsonconfig

### 1.3.10

- getalbumartist as artist if setting of TPE2/TPE3 in `LMS` are changed"

### 1.3.9

- fix error with deleting favorites
- fix wrong type for datapoint

### 1.3.8

- fix forward button widget

### 1.3.7

- fix object creation of states in player modul

### 1.3.6

- fix object creation of states

### 1.3.5

- fix object creation for favorites

### 1.3.4

- fix object creation for favorites / \* center widgets in sidebar

### 1.3.3

- repair imageproxy for image datapoints of favorites

### 1.3.2

- fix for Alarm contains only enabled Alarms

### 1.3.1

- fix problem with git dependency url

### 1.3.0

- fix problem wit setting own icon in player widget / \* add infos about\
   alarms to a player datapoint

### 1.2.1

- fix small issue in last version

### 1.2.0

- improve handling of imageproxy artwork

### 1.1.0

- make request of favorites configurable

### 1.0.1

- change setstate/createobject logic
- fix role and type for Mode-state
- update tests
- update dependency versions
- improve io-package.json

### 1.0.0

- prepare for stable repository

### 0.8.32

- the adapter function iobroker.deleteChannel didnt works as expected.\
   It didnt delete the whole subtree of states. now i implement my own delete function

### 0.8.31

- change behaviour of deleting favorites

### 0.8.30

- change from the issue of the adapter checker

### 0.8.29

- optimize handling of player state power and connected

### 0.8.28

- add advanced signaling function with telnet and fix some more authorization\
   issues with `LMS`

### 0.8.27

- initialization for the new calctype property if empty in volumebar

### 0.8.26

- more improvement and fixing at volumebar / remove playlist widget from\
   master. not ready yet

### 0.8.25

- fixing css-settings on volumebar

### 0.8.24

- volumebar didnt get events between the segments, change clickevent and calculation

### 0.8.23

- adjust dependencies to remove vulnerabilities in dependend packages.\
   also remove travis due of unresolvable build-failures for win+node10/12

### 0.8.22

- due to iobroker.controller 2.0 a command in the api changed (socket to vis.conn.\_socket)

### 0.8.21

- add command für playing urls

### 0.8.20

- remove node v6 test setting

### 0.8.19

- shorten news history

### 0.8.18 (2019-06-27)

- last minute changes.

### 0.8.17 (2019-06-26)

- add more widges: playtime bar, string, number, datetime, image.\
   add button margin to player and favorite widget, improve editing of viewindex.\
   do some refactoring.

### 0.8.16 (2019-06-24)

- resolve a cross browser issue for firefox. the style.\
   font attribute is empty and you have to construct the font string by yourself

### 0.8.15 (2019-06-19)

- minor issue with not ready states

### 0.8.14 (2019-06-19)

- add syncgroups as new server-datapoint,add syncgroup widget,/
  change some jquery event logic

### 0.8.13 (2019-06-16)

- rename widgetset from squeezeboxrpcwidgets to squeezeboxrpc

### 0.8.12 (2019-06-16)

- sync version with npm

### 0.8.11 (2019-06-15)

- try to integrate the widgets into the main adapter

### 0.8.10 (2019-05-15)

- another try to fix the EADDRINUSE error of the server discovery

### 0.8.9 (2019-05-15)

- try to fix the EADDRINUSE error of the server discovery

### 0.8.8 (2019-05-14)

- make discover configurable

### 0.8.7 (2019-05-11)

- more control features (select playlist pos to play,ffwd,frew,jump to/
  a time position in song,repeat song,random song)

### 0.8.6 (2019-05-10)

- move some configuration options into seperate tabs

### 0.8.5 (2019-05-08)

- change serverdiscovery interval method, remove some double cmd lines,/
  additional minor changes advised from eslint

### 0.8.4

- move some files to lib directory

### 0.8.3

- close port for discovery on unload

### 0.8.2

- sync version with npm

### 0.8.1

- set compact mode flag

### 0.8.0

- implementation of compact mode, change version to represent a realistic/
  feature completness

### 0.0.9

- debug options are now configurable

### 0.0.8

- More playlist attributes + remove trailing and leading spaces from source

### 0.0.7

- Add the playlist to each player as json

### 0.0.6

- More config options

### 0.0.5

- All levels/subdirectories of favorites are now available in iobroker

### 0.0.4

- added the cmdPlayFavorite for each player

### 0.0.3

- repair the no-data symbols for buttons in vis

### 0.0.2

- added autodiscovery

### 0.0.1

- initial release

## License

MIT License

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

Copyright (c) 2019-2024 oweitman