---
translatedFrom: en
translatedWarning: Если вы хотите отредактировать этот документ, удалите поле «translationFrom», в противном случае этот документ будет снова автоматически переведен
editLink: https://github.com/ioBroker/ioBroker.docs/edit/master/docs/ru/adapterref/iobroker.squeezeboxrpc/README.md
title: ioBroker Logitech/Lyrion Squeezebox Adapter over JSON/RPC-Protocol
hash: O2jezqaszJ9T2f0UI86YdPQf8yiJ7hE+AbUKP3pTifc=
---
![Логотип](../../../en/adapterref/iobroker.squeezeboxrpc/admin/squeezeboxrpc.png)

![Версия NPM](https://img.shields.io/npm/v/iobroker.squeezeboxrpc.svg)
![Загрузки](https://img.shields.io/npm/dm/iobroker.squeezeboxrpc.svg)
![Количество установок](https://iobroker.live/badges/squeezeboxrpc-installed.svg)
![Текущая версия находится в стабильном репозитории.](https://iobroker.live/badges/squeezeboxrpc-stable.svg)
![НПМ](https://nodei.co/npm/iobroker.squeezeboxrpc.png?downloads=true)

# IoBroker Адаптер Logitech/Lyrion Squeezebox через протокол JSON/RPC
**Тесты:** ![Тестирование и выпуск](https://github.com/oweitman/ioBroker.squeezeboxrpc/workflows/Test%20and%20Release/badge.svg)

Это альтернативный адаптер, использующий протокол `JSON/RPC` для получения данных и отправки команд на медиасервер Logitech/Lyrion ([ЛМС](https://de.wikipedia.org/wiki/Lyrion_Music_Server)) для управления подключенными устройствами, такими как

- родной [squeezebox](https://de.wikipedia.org/wiki/Squeezebox),
- Raspberry Pi с дополнительным аудиомодулем и небольшими прошивками на базе Linux

например, [picoreplayer](https://picoreplayer.org/) или [max2play]](https://www.max2play.com).

- WiiM Multiroom Audio ([может взаимодействовать с сервером LMS/Lyrion](https://faq.wiimhome.com/en/support/solutions/articles/72000610226-how-to-stream-music-from-lms-to-your-wiim-device-with-squeezelite))
- с плагинами Chromecast, AirPlay или устройствами `UPnP/DLNA`.

Сервер `LMS` может управлять/предоставлять очень большие музыкальные коллекции на жестких дисках или `NAS`, подключаться к различным потоковым сервисам, таким как `Spotify`, `Deezer`, `Soundcloud`, `shoutcast`, `tunein`, `napster`, `pandora`, `tidal` и многим другим.

## Функции
- Большая часть данных, предоставляемых сервисом `LMS`, доступна в адаптере.
- подробная [информация](#players) о статусе игрока, названии песни, исполнителе,

альбом, обложка, плейлист

- [множество функций управления](#provided-states) для воспроизведения, паузы, остановки, перемотки вперед,\

кнопки перемотки назад, повтора, перемешивания, воспроизведения избранного, перехода по времени (абсолютное и относительное), перехода к индексу плейлиста (абсолютное и относительное), включения/выключения и предустановок.

- все [избранное](#избранное) и все подуровни с сервера
- В компонент iobroker-vis включено множество виджетов (#widgets).

Создание собственных пользовательских интерфейсов управления (выбор проигрывателя, выбор избранных треков, управление группами синхронизации, кнопки воспроизведения/паузы, перемотки вперед/назад, выбора режима повтора и режима перемешивания).

## Установка
- Установите пакет
- Создать экземпляр
- Настройте экземпляр, указав IP-адрес медиасервера Logitech/Lyrion.

и порт (обычно 9000)

- запустить/перезапустить экземпляр

## Обновлять
- После установки или обновления иногда может потребоваться

Для выполнения следующей команды, если возникли проблемы в vis-1, выполните следующую команду.

`iobroker upload squeezeboxrpc`

## Поиск неисправностей
### Игроки SLIMP3
Сообщается, что старые версии плееров SLIMP3 могут не подключаться к серверу, пока адаптер ищет новые серверы. Отключение поиска в разделе «Конфигурация экземпляра -> Настройки производительности -> Поиск других серверов LMS» должно позволить плееру подключиться.

## Предоставленные штаты
### Сервер
| Штат | Описание |
| ------------------ | ----------------------------- |
| `LastScan` | метка времени последнего сканирования музыки |
| `PlayerCountOther` | Количество известных других игроков |
| `PlayerCountSN` | Количество известных игроков SN |
| `TotalAlbums` | Количество всех известных альбомов |
| `TotalArtists` | Количество всех известных артистов |
| `TotalDuration` | Суммарное время воспроизведения всех песен |
| `TotalGenres` | Количество всех известных жанров |
| `TotalSongs` | Количество всех известных песен |
| `SyncGroups` | Существующие группы синхронизации |
| `Version` | Версия `LMS` |
| `mac` | MAC-ID сервера |
| `uuid` | uuid экземпляра `LMS` |
| `uuid` | uuid экземпляра `LMS` |

дополнительно предусмотрена кнопка для обновления избранного.

| кнопка | Описание |
| -------------- | --------------------------------- |
| `getFavorites` | запросить все избранные с сервера |

### Избранное
Для каждого избранного все атрибуты доступны только для чтения.

| Штат | Описание |
| ---------- | ------------------------------------------ |
| `Name` | Имя фаворита |
| `id` | идентификатор избранного |
| `image` | изображение/значок для добавления в избранное, если доступно |
| `isaudio` | isaudio |
| `type` | Примеры типов: ссылка, текст, аудио, плейлист |
| `url` | URL трека |
| `url` | URL трека |

Доступны все подкаталоги (подразделы) избранного.

### Игроки
Для каждого игрока в режиме отображается возможность изменения значения. Выполненное действие описывается в атрибуте.

| Состояние | режим | Описание |
| ---------------------- | ---- | -------------------------------------------------------------------------------------------------------------------- |
| `Alarms` | R/- | Все зарегистрированные оповещения для этого игрока в формате JSON |
| `Artist` | R/- | Имя художника |
| `ArtworkUrl` | R/- | URL произведения искусства |
| `Bitrate` | R/- | Битрейт трека |
| `Connected` | R/- | connectionstate игрока (0/1) |
| `Duration` | R/- | Продолжительность трека |
| `Genre` | R/- | жанр трека |
| `IP` | R/- | IP игрока |
| `Mode` | R/- | воспроизведение / пауза / остановка |
| `Playername` | R/- | Имя игрока |
| `PlayerID` | R/- | ID игрока |
| `Playlist` | R/- | Фактический плейлист в формате JSON |
| `PlaylistCurrentIndex` | Чтение/Запись | Перейти к абсолютной позиции, указав индекс трека, или к относительной, используя + или - в начале. Пример: 10, -3, +2 |
| `PlaylistRepeat` | Чтение/Запись | Повтор песни(1)/плейлиста(2)/не повторять(0) |
| `PlaylistShuffle` | Чтение/Запись | перемешивание плейлиста(1)/перемешивание альбома(2)/не перемешивание(0) |
| `Power` | Чтение/запись | получить/установить состояние питания плеера выключено(0)/включено(1) |
| `RadioName` | R/- | Название радиостанции |
| `Rate` | R/- | Рейтинг песни |
| `Remote` | R/- | Если удаленный поток (1) |
| `SyncMaster` | R/- | ID/MAC Syncmaster |
| `SyncSlaves` | R/- | ID/MAC игроков в группе синхронизации |
| `Time` | R/- | прошедшее время песни |
| `Title` | R/- | название песни |
| `Type` | R/- | тип носителя (например, MP3-радио) |
| `Url` | R/- | URL трека / потока |
| `Volume` | Чтение/запись | Установка/получение громкости проигрывателя (0-100) |
| `state` | Чтение/запись | получить/установить состояние воспроизведения: пауза(0), воспроизведение(1), остановка(2) |
| `state` | Чтение/запись | получить/установить состояние воспроизведения: пауза(0), воспроизведение(1), остановка(2) |

Плейлист фактически предоставляет следующие атрибуты, если они доступны в `LMS`.
Некоторые атрибуты зависят от типа песен (поток/файл/...). Все атрибуты доступны только для чтения.

| Атрибут | Описание |
| ------------ | --------------------------------- |
| `Album` | Название текущего альбома |
| `ArtworkUrl` | URL изображения |
| `Bitrate` | Битрейт трека |
| `Duration` | Продолжительность трека |
| `RadioName` | Название радиостанции |
| `Rate` | Рейтинг песни |
| `title` | название песни |
| `Type` | тип носителя (например, MP3-радио) |
| `url` | URL трека / потока |
| `index` | индекс песни в плейлисте |
| `id` | идентификатор песни |
| `id` | идентификатор песни |

дополнительные определенные кнопки:

| Кнопка | Описание |
| ----------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `btnForward` | Следующая песня |
| `btnPreset\_\*` | 1-6 кнопок для определения в плеере или на сервере |
| `cmdGeneral` | Общее поле команд для отправки команд игроку. Каждое поле должно быть заключено в кавычки. Параметры должны быть разделены запятой. Пример: "play","1" |
| `cmdPlayFavorite` | Чтобы выбрать любимую игру, установите её идентификатор |
| `cmdPlayUrl` | воспроизвести пример URL-адреса "<http://50.7.77.114:8101/>" |
| `cmdGoTime` | Переход к абсолютной позиции путем указания количества секунд или переход к относительной позиции с помощью знаков + или - в начале секунд. Пример: 100, -50, +50 |
| `cmdGoTime` | Переход к абсолютной позиции путем указания количества секунд или переход к относительной позиции с помощью знаков + или - в начале секунд. Пример: 100, -50, +50 |

#### Примечания к точкам данных в зависимости от настройки TPE2 в LMS
В зависимости от настроек, точкам данных передаются разные MP3-теги.
Названия, написанные заглавными буквами, — это названия MP3-тегов.

| Настройка TPE2 в LMS | Исполнитель | Альбомный художник | Художник трека | Группа |
| ------------------------------ | ----------- | ----------- | ----------- | ----------- |
| как группа | ИСПОЛНИТЕЛЬ | пустой | ИСПОЛНИТЕЛЬ ТРЕКА | ИСПОЛНИТЕЛЬ АЛЬБОМА |
| как исполнители альбома | ALBUMARTIST | ALBUMARTIST | empty | empty |

Следует также отметить, что после внесения изменений в LMS необходимо заново выполнить поиск и индексацию всей библиотеки, а также остановить и перезапустить воспроизведение песни, прежде чем LMS предоставит другие данные.

### Дополнительная документация по API
Для получения более подробной информации посетите документацию по интерфейсу командной строки:

<https://github.com/oweitman/LMS-CLI-Documentation/blob/master/LMS-CLI.md>

## Виджеты
### Панель кнопок игрока
![Панель кнопок игрока](../../../en/adapterref/iobroker.squeezeboxrpc/widgets/squeezeboxrpc/img/players.png)

С помощью этого виджета можно выбрать все проигрыватели, интегрированные в ваш медиасервер Logitech/Lyrion. После выбора экземпляра `squeezerpc.?` в виджете отобразятся доступные проигрыватели.

#### Атрибуты
| Группа | Атрибут | Описание |
| ----------------------- | --------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Экземпляр SqueezeboxRPC | Общая группа | Выберите экземпляр адаптера squeezeboxRPC. Здесь распознаются только такие экземпляры. |
| Формат виджета | Общая группа | Здесь можно выбрать тип виджета. Тип «formatbutton» обладает полным набором функций и также работает с виджетом SyncGroup. Тип «formatselect» представляет собой простое поле выбора. В качестве имени используется имя игрока или отдельный текст. |
| Индекс отображения | Общая группа | Отдельные кнопки можно скрыть или отобразить в другом порядке, удалив индекс кнопки. Чтобы скрыть их, просто удалите соответствующую позицию индекса, включая запятую. Номера индексов отображаются на соответствующей кнопке в режиме редактирования, если включена справка в режиме редактирования. |
| Перенос строки в CamelCase | Общая группа | Если имя игрока написано в CamelCase, здесь можно активировать перенос строки, чтобы имя игрока отображалось крупнее на кнопке. |
| Справка по режиму редактирования | Общая группа | Если эта справка активирована, на соответствующей кнопке отображаются порядковые номера, а параметр «прозрачность» в настройках кнопки не оказывает никакого эффекта. |
| Ширина изображения | Настройки кнопки | Ширина изображения кнопки |
| Высота изображения | Настройки кнопки | Высота изображения на кнопке |
| Прозрачность | Настройки кнопки | Если кнопка не активирована, она скрыта на фоне. 0 = Невидимая, 1 = Полностью видимая |
| Ширина границы | Настройки кнопки | Ширина границы в пикселях вокруг кнопки |
| Отображение границы | Настройки кнопки | Тип отображения границы, например, сплошная, пунктирная. |
| Обычный цвет рамки | Настройки кнопки | Если кнопка не активирована, она отображается этим цветом. |
| Активный цвет границы | Настройки кнопки | Если кнопка активирована, она отображается этим цветом. |
| радиус скругления углов | настройки кнопки | Здесь можно указать радиус в пикселях для закругленных углов границы. |
| Цвет фона | Настройки кнопки | Цвет фона для текста |
| Изображение | кнопка[x] | Здесь можно задать изображение отдельно. Изображение имеет приоритет над текстом. |
| Текст | кнопка[x] | Текст можно задать отдельно. Изображение имеет приоритет над текстом. |

### Панель кнопок «Избранное»
![Панель кнопок «Избранное»](../../../en/adapterref/iobroker.squeezeboxrpc/widgets/squeezeboxrpc/img/favorites.png)

С помощью этого виджета вы можете выбрать все избранные элементы, созданные на вашем медиасервере Logitech/Lyrion.

После выбора виджета «Плеер» в виджете отобразятся доступные избранные элементы.

| Группа | Атрибут | Описание |
| ------------------- | --------------- | ----------------------------------------------------------------------------------------------------- |
| Виджет плеера | Общая группа | Выберите виджет плеера. |
| Индекс отображения | Общая группа | Отдельные кнопки можно скрыть или отобразить в другом порядке с помощью индекса. |
| Справка в режиме редактирования | Общая группа | Если эта справка активирована, на каждой соответствующей кнопке отображаются порядковые номера. |
| Ширина изображения | Настройки кнопки | Ширина изображения кнопки |
| Высота изображения | Настройки кнопки | Высота изображения на кнопке |
| Прозрачность | Настройки кнопки | Если кнопка не активирована, она скрыта на фоне. 0 = Невидимая, 1 = Полностью видимая |
| Ширина границы | Настройки кнопки | Ширина границы в пикселях вокруг кнопки |
| Отображение границы | Настройки кнопки | Тип отображения границы, например, сплошная, пунктирная. |
| Обычный цвет рамки | Настройки кнопки | Если кнопка не активирована, она отображается этим цветом. |
| Активный цвет границы | Настройки кнопки | Если кнопка активирована, она отображается этим цветом. |
| радиус скругления углов | настройки кнопки | Здесь можно указать радиус в пикселях для закругленных углов границы. |
| Цвет фона | Настройки кнопки | Цвет фона для текста |
| Изображение | кнопка[x] | Здесь можно задать изображение отдельно. Изображение имеет приоритет над текстом. |
| Текст | кнопка[x] | Здесь можно задать текст по отдельности. Изображение имеет приоритет над текстом. |

### Кнопка воспроизведения
![Кнопка воспроизведения](../../../en/adapterref/iobroker.squeezeboxrpc/widgets/squeezeboxrpc/img/play.png)

Кнопка воспроизведения запускает или останавливает воспроизведение музыки на выбранном плеере. Для подготовки необходимо подключить кнопку к виджету плеера. Кнопка имеет собственное графическое изображение (SVG), или же вы можете выбрать собственное изображение.

#### Атрибуты кнопки «Воспроизвести»
| Группа | Атрибут | Описание |
| ------------- | ------------------ | ------------------------------- |
| Виджет плеера | Общая группа | Выбор виджета плеера. |
| Изображение для паузы | Общая группа | Изображение для паузы |
| Изображение для игры | Общая группа | Изображение для игры |
| Изображение остановки | Общая группа | Изображение для остановки |
| цвет заливки | Группа настроек SVG | Цвет заливки кнопки |
| Цвет обводки | Группа настроек SVG | Цвет границы |
| ширина обводки | группа настроек SVG | Ширина границы в пикселях |

### Вперед
![Вперед](../../../en/adapterref/iobroker.squeezeboxrpc/widgets/squeezeboxrpc/img/fwd.png)

Виджет «Вперед» позволяет перематывать текущий трек вперед. Кнопку можно настроить на перемотку вперед на определенное время, если плеер поддерживает эту функцию.

#### Атрибуты кнопки «Вперед»
| Группа | Атрибут | Описание |
| ------------- | ------------- | ---------------------------------------------------------------- |
| Виджет плеера | Общая группа | Выбор виджета плеера. |
| Шаг | Общая группа | Указывает время в секундах для перехода вперед. |
| Метка кнопки | Общая группа | Настраиваемая метка для кнопки. |
| Значок кнопки | Общая группа | Выбор значка для кнопки, например, для перехода вперед. |

### Перемотка назад
![Перемотка назад](../../../en/adapterref/iobroker.squeezeboxrpc/widgets/squeezeboxrpc/img/rew.png)

Виджет «Перемотка назад» позволяет вернуться к предыдущему треку. Аналогично виджету «Перемотка вперед», можно установить временной интервал.

#### Атрибуты кнопки «Перемотка назад»
| Группа | Атрибут | Описание |
| ------------- | ------------- | ------------------------------------------------------------- |
| Виджет плеера | Общая группа | Выбор виджета плеера. |
| Шаг | Общая группа | Указывает период времени в секундах, на который нужно вернуться назад. |
| Метка кнопки | Общая группа | Настраиваемая метка для кнопки. |
| Символ кнопки | Общая группа | Выбор символа для кнопки, например, для возврата назад. |

### Повторить
![Повторить](../../../en/adapterref/iobroker.squeezeboxrpc/widgets/squeezeboxrpc/img/repeat0.svg)

Виджет «Повтор» позволяет активировать или деактивировать функцию повтора для текущего трека или плейлиста, если эта функция поддерживается плеером.

#### Атрибуты кнопки «Повтор»
| Группа | Атрибут | Описание |
| ------------- | ------------- | ------------------------------------------------------------------------------------------- |
| Виджет плеера | Общая группа | Выбор виджета плеера. |
| Метка кнопки | Общая группа | Настраиваемая метка для кнопки. |
| Символ кнопки | Общая группа | Выбор символа для кнопки, например, для повтора. |
| Режим повтора | Общая группа | Здесь можно выбрать режим, например, одиночный повтор (трека) или повтор списка (плейлиста). |

### Перетасовка
![Перетасовка](../../../en/adapterref/iobroker.squeezeboxrpc/widgets/squeezeboxrpc/img/shuffle0.svg)

Виджет «Перемешать» включает или отключает перемешивание для текущего плейлиста, если эта функция поддерживается плеером.

#### Атрибуты кнопки «Перемешать»
| Группа | Атрибут | Описание |
| ------------- | ------------- | ------------------------------------------------------- |
| Виджет плеера | Общая группа | Выбор виджета плеера. |
| Метка кнопки | Общая группа | Настраиваемая метка для кнопки. |
| Значок кнопки | Общая группа | Выбор значка для кнопки, например, для перемешивания. |
| Состояние включения | Общая группа | Цвет или стиль кнопки при включенном режиме перемешивания. |

### Объем
![Объем](../../../en/adapterref/iobroker.squeezeboxrpc/widgets/squeezeboxrpc/img/volume.png)

Виджет «Громкость» отображает текущий уровень громкости проигрывателя и позволяет регулировать громкость.

#### Атрибуты кнопки регулировки громкости
| Группа | Атрибут | Описание |
| --------------------------- | ------------- | ----------------------------------------------------------------- |
| Виджет плеера | Общая группа | Выбор виджета плеера. |
| Шаг регулировки громкости | Общая группа | Задает шаг увеличения или уменьшения громкости. |
| Максимальная громкость | Общая группа | Устанавливает максимальное значение громкости, например, 100. |
| Основной цвет шкалы громкости | Общая группа | Цвет области шкалы, отображающей текущий уровень громкости. |
| Цвет фона шкалы громкости | Общая группа | Цвет области шкалы, не покрытой шкалой громкости. |
| Значок кнопки | Общая группа | Выбор значка для регулировки громкости. |

### Панель кнопок SyncGroup
![Панель кнопок SyncGroup](../../../en/adapterref/iobroker.squeezeboxrpc/widgets/squeezeboxrpc/img/syncgroups.png)

Этот виджет можно использовать совместно с виджетом плеера для управления синхронизацией плееров друг с другом.
Большинство настроек количества кнопок, меток или изображений выполняются виджетом плеера.
Для подготовки необходимо подключить кнопку к виджету плеера.
После выбора плеера в виджете плеера текущая синхронизация отображается в виджете SyncGroup.
Статус синхронизации отображается с помощью различных настраиваемых цветов.
Плеер, выбранный в виджете плеера, нельзя выбрать в виджете SyncGroup.
Если в виджете SyncGroup выбран плеер, который уже находится в другой группе, он автоматически удаляется из этой группы.

#### Атрибуты кнопки SyncGroup
| Группа | Атрибут | Описание |
| ----------------------------- | --------------- | ---------------------------------------------------------------------------------------------- |
| Виджет плеера | Общая группа | Выбор виджета плеера. |
| Ширина границы | Настройки кнопки | Ширина границы/ширина границы в пикселях вокруг кнопки. |
| Отображение границы | Настройки кнопки | Тип отображения границы, например, сплошная, пунктирная. |
| Цвет рамки - Не в группе | Настройки кнопки | Если игрок не состоит в группе, кнопка получает рамку этого цвета. |
| Цвет рамки - В группе | Настройки кнопки | Кнопка получает рамку этого цвета, если игрок находится в группе с выбранным игроком. |
| Цвет рамки - В другой группе | Настройки кнопки | Кнопка получает рамку этого цвета, если игрок находится в другой группе. |
| радиус скругления углов | настройки кнопки | Здесь можно указать радиус в пикселях для закругленных углов границы. |
| Цвет фона | Настройки кнопки | Цвет фона для текста. |

### Шкала времени игры
![Игровой бар](../../../en/adapterref/iobroker.squeezeboxrpc/widgets/squeezeboxrpc/img/playtime.png)

Индикатор воспроизведения визуально показывает прогресс текущей воспроизводимой песни, при условии, что сервер предоставляет общее время воспроизведения. Обычно это не так в случае онлайн-трансляций. Ширина индикатора соответствует 100% времени воспроизведения песни. Нажав на точку на индикаторе, вы можете перейти к нужному моменту в песне. Для подготовки необходимо связать кнопку с виджетом плеера.

#### Атрибуты для панели «Время игры»
| Группа | Атрибут | Описание |
| -------------- | ------------- | --------------------------------------------------------------- |
| Виджет плеера | Общая группа | Выбор виджета плеера. |
| Основной цвет полосы | Общая группа | Цвет фона полосы для еще не сыгранных игр. |
| Цвет времени игры | Общая группа | Цвет полосы, отображающей время игры. |
| Ширина рамки | Общая группа | Ширина рамки/ширина границы в пикселях вокруг кнопки. |
| Отображение границ | Общая группа | Тип отображения границ, например, сплошная, пунктирная. |
| Цвет границы | Общая группа | Цвет границы вокруг полосы. |
| Радиус скругления углов | Общая группа | Здесь можно ввести радиус в пикселях для закругленных углов. |

### Строка/символьная строка
![Нить](../../../en/adapterref/iobroker.squeezeboxrpc/widgets/squeezeboxrpc/img/string.png)

Отображение строковых данных, специфичных для игрока. Для подготовки необходимо подключить кнопку к виджету игрока.

#### Атрибуты для строки
| Группа | Атрибут | Описание |
| ---------------- | ------------- | ----------------------------------------------------------------- |
| Виджет плеера | Общая группа | Выбор виджета плеера. |
| Атрибуты игрока | Общая группа | Список всех доступных атрибутов игрока. |
| Тестовый текст | Общая группа | Текст, который должен отображаться в редакторе для целей тестирования. |

### Число
![Число](../../../en/adapterref/iobroker.squeezeboxrpc/widgets/squeezeboxrpc/img/number.png)

Отображение чисел с дополнительными параметрами форматирования. Для подготовки необходимо подключить кнопку к виджету проигрывателя.

#### Атрибуты для числа
| Группа | Атрибут | Описание |
| --------------------- | ----------------- | ----------------------------------------------------------------- |
| Виджет плеера | Общая группа | Выбор виджета плеера. |
| Атрибуты игрока | Общая группа | Список всех доступных атрибутов игрока. |
| Добавить HTML в начало | Общая группа | Текст или HTML-код, размещаемый перед числом. |
| Добавить HTML | Общая группа | Текст или HTML-код, добавляемый к числу. |
| Тестовый текст | Общая группа | Текст, который должен отображаться в редакторе для целей тестирования. |
| Символ после запятой | Дополнительные настройки | Количество знаков после запятой |
| Запятая в качестве разделителя | Расширенные настройки | Запятая используется для разделения десятичных знаков. |
| Разделитель тысяч | Расширенные настройки | Для больших чисел разделитель вставляется каждые 3 знака. |

### Плейлист
![Плейлист](../../../en/adapterref/iobroker.squeezeboxrpc/widgets/squeezeboxrpc/img/playlist.png)

Отобразить плейлист с сервера. При нажатии на запись плейлист загружается, и плеер запускается.
Виджет не обновляется автоматически, вам нужно нажать кнопку обновления.

#### Атрибуты плейлиста
| Группа | Атрибут | Описание |
| ------------- | ------------- | ------------------------------- |
| Виджет плеера | Общая группа | Выбор виджета плеера. |

Сам виджет имеет очень мало форматирования.
Для самоформатирования используются некоторые предопределенные CSS-классы:

| CSS-класс | описание |
| ----------- | ----------------------------------------- |
| plcontainer | Имя класса, присвоенное тегу ul |
| изобилие | Название класса, присвоенное тегу li |
| plrefresh | Имя класса, присвоенное тегу refresh-li |
| pltext | Имя класса, присвоенное имени плейлиста |

В качестве примера можно привести следующий CSS-код для вкладки vis-css:

Темный режим

```css
.plentry {
    border: 1px #505050 groove;
    margin: 1px 0px;
    padding: 5px;
    background-color: #202020;
}
.plrefresh {
    padding: 5px;
}
.plentry:hover {
    background-color: #404040;
}
.plrefresh svg {
    color: #cccccc;
}
.plrefresh svg:hover {
    color: #ffffff;
    filter: drop-shadow(0px 0px 1px #87ceeb);
}
```

Световой режим

```css
.plentry {
    border: 1px #b0b0b0 groove;
    margin: 1px 0px;
    padding: 5px;
    background-color: #c0c0c0;
}
.plrefresh {
    padding: 5px;
}
.plentry:hover {
    background-color: #e0e0e0;
}
.plrefresh svg {
    color: #444444;
}
.plrefresh svg:hover {
    color: #000000;
    filter: drop-shadow(0px 0px 1px #87ceeb);
}
```

### Браузер
![Браузер](../../../en/adapterref/iobroker.squeezeboxrpc/widgets/squeezeboxrpc/img/browser.png)

Отображает музыку, альбомы, исполнителей, радиостанции, приложения и т. д. с сервера.
Щелкните по элементу, чтобы перейти к более глубокому просмотру иерархии. Доступные команды отображаются с помощью дополнительных кнопок.
Вы можете подняться на один уровень выше, щелкнув по пути, отображаемому вверху.

#### Атрибуты для браузера
| Группа | Атрибут | Описание |
| --------------------- | ------------- | ------------------------------------------------------------------- |
| Виджет плеера | Общая группа | Выбор виджета плеера. |
| отладка | Общая группа | Включить дополнительную отладку (справочник функций) в консоли браузера. |
| debugwithfetchresults | Общая группа | Включить дополнительную отладку (ссылки на объекты) в консоли браузера. |

Сам виджет имеет довольно много элементов форматирования.
Для самоформатирования используются некоторые предопределенные CSS-классы:

| CSS-класс | описание |
| ------------------------------------------ | ------------------------------------- |
| sqbrowser-list-container | контейнер для виджета |
| sqbrowser-parent-directory | элемент для отображения родительского каталога |
| sqbrowser-btn-svg | Класс для всех SVG-кнопок |
| sqbrowser-btn-svg-menu | Класс для SVG-меню |
| sqbrowser-scrollable-area | Класс для контейнера прокрутки |
| sqbrowser-list-item | Класс для отдельного элемента |
| sqbrowser-list-item-content | Класс для заголовка элемента |
| sqbrowser-button-group | Класс для группы кнопок в элементе списка |
| sqbrowser-btn-svg sqbrowser-btn-svg-action | Класс для кнопки действия |

**Примечание о состоянии альфа-канала этого виджета:**

— Внедрение LMS/Lyrion для просмотра веб-страниц — это сущий ад.
— Техническая модель этого виджета основана на плагине темы «Material».

на сервере LMS/Lyrion.

— В настоящее время реализованы не все функции.
— Не все типы полей ввода пока доступны.
— Возможно, реализованы не все типы элементов.
— Для анализа добавлена возможность вывода расширенной отладочной информации (см. также атрибуты).
- Вывод ссылки на функцию: Все имена функций выводятся в

заказать в консоли браузера.

- Вывод справочной информации: Все запрошенные и возвращенные данные.

Сервер выводит результат.

Если тестировщики обнаружат ошибки/проблемы или отсутствие необходимых реализаций, пожалуйста, предоставьте как можно более подробное описание:

- Откуда берутся данные в LMS/Lyrion?

(уже встроенная служба/дополнительно установленный плагин)

- Какие шаги/клики были предприняты для создания проблемы?
— Что представляют собой ссылки на функции и ссылки на данные?

## SendTo-Befehle
### CmdGeneral
Эта команда может использоваться для отправки любой команды на сервер LMS для получения ответа.

Пример:

**Все плейлисты:**

```js
async function main() {
    let data = await sendToAsync('squeezeboxrpc.0', 'cmdGeneral', {
        playerid: '',
        cmdArray: ['playlists', '0', '999', 'tags:us'],
    });
    console.log(JSON.stringify(data));
}
main();
```

**Все избранные:**

Эта команда используется адаптером внутри системы для загрузки избранных элементов.

```js
async function main() {
    let data = await sendToAsync('squeezeboxrpc.0', 'cmdGeneral', {
        playerid: '',
        cmdArray: ['favorites', 'items', '0', '999', 'want_url:1', 'item_id:'],
    });
    console.log(JSON.stringify(data));
}
main();
```

Дополнительные параметры и подробное описание возможностей интерфейса командной строки (CLI) приведены в следующей документации:

[Документация по интерфейсу командной строки](#further-api-documentation)

## Todo
- дополнительное тестирование/исправление
- уменьшить зависимость от других пакетов (squeezenode)
— Дополнительные возможности настройки для включения/выключения функций с целью повышения эффективности использования памяти и производительности.
- добавить виджет плейлиста
- добавить виджет просмотра для просмотра в меню `LMS`
- добавить виджет кругового регулятора, управляемый игроком
- Воспроизведение прекратится, если кнопка «Избранное» будет нажата повторно.
- cmdGeneral für Server.
- ~~добавить возможность подключения по Telnet для получения push-уведомлений с сервера на\

Оптимизировать опрос~~

- Реализовать состояние команд для размещения индивидуальных команд пользователя (через JSON)

для сервера и игрока~~

- ~~реализовать больше функций управления (выбор позиции воспроизведения в плейлисте, перемотка вперед, перемотка назад и т. д.)

(перейти к временной позиции в песне, повторить песню, выбрать случайную песню)

- ~~Добавить плейлист в playerdata в виде массива JSON~~
- ~~Добавить обложку (логотип станции/обложку плейлиста) для избранных~~
- ~~добавить больше уровней (подкаталогов) избранного~~
- ~~автоматическое обнаружение медиасервера Logitech~~

## Changelog

<!--
  Placeholder for the next version (at the beginning of the line):
   ### **WORK IN PROGRESS**

-->

### **WORK IN PROGRESS**

- test remove node 18,extend to node 24

### 1.6.2 (2025-05-05)

- fix node version in github workflow

### 1.6.1 (2025-05-05)

- Fix eslint

### 1.6.0 (2025-05-05)

- upgrade dependency js-controller
- new widget, but only alpha version for testing and improvement
- fix issues of adapter checker

### 1.5.2 (2024-12-16)

- fix spelling of iobroker upload squeezeboxrpc in readme
- fix playtime bar

### 1.5.1 (2024-11-29)

- improve documentation
- remove margin from plcontainer
- improve textoverflow with ellipsis
- adjust initial widgetsize of playlist widget
- repair attributes for playlist widget
- add light mode css for playlist widget

### 1.5.0 (2024-11-28)

- Switch to iobroker/eslint
- New widget playlist

### 1.4.0 (2024-11-27)

- fix some missing objects errors
- sanitize more playernames in syncgroups
- add sendTo Command "cmdGeneral"
- sanitize more the playername
- improve translation
- if trackartist is avail then write to artist if empty
- improve handling for artwork_url
- move widget documentation from html to markdown
- adjust responsive tab style
- improve attribute widgets
- change TPE2 handling once more
- jsonConfig add sizing options for differenz screen sizes
- test implementation of TPE2 handling. switch in settings
- add datapoints album_artist, track_artist, artistOriginal

### 1.3.17 (2024-10-23)

- add edit button to the vie index field of favorites widget

### 1.3.16 (2024-10-23)

- fixed icons of the favorites widget

### 1.3.15 (2024-08-09)

- due to a adapter checker issue i have to remove the release 1.3.13 from npm.
  but changes from 1.3.13 are included in 1.3.14

### 1.3.14 (2024-08-05)

- fix formatting

### 1.3.13 (2024-08-05)

- revert the fix for artist handling due to negative effect of spotify

### 1.3.12 (2024-08-05)

- improve cmdGoto handling by kairauer, close PR #74
- fix issues from adapter checker
- integrate squeezenode lib

### 1.3.11 (2024-08-05)

- update adapter structure and switch to jsonconfig

### 1.3.10

- getalbumartist as artist if setting of TPE2/TPE3 in `LMS` are changed"

### 1.3.9

- fix error with deleting favorites
- fix wrong type for datapoint

### 1.3.8

- fix forward button widget

### 1.3.7

- fix object creation of states in player modul

### 1.3.6

- fix object creation of states

### 1.3.5

- fix object creation for favorites

### 1.3.4

- fix object creation for favorites / \* center widgets in sidebar

### 1.3.3

- repair imageproxy for image datapoints of favorites

### 1.3.2

- fix for Alarm contains only enabled Alarms

### 1.3.1

- fix problem with git dependency url

### 1.3.0

- fix problem wit setting own icon in player widget / \* add infos about\
   alarms to a player datapoint

### 1.2.1

- fix small issue in last version

### 1.2.0

- improve handling of imageproxy artwork

### 1.1.0

- make request of favorites configurable

### 1.0.1

- change setstate/createobject logic
- fix role and type for Mode-state
- update tests
- update dependency versions
- improve io-package.json

### 1.0.0

- prepare for stable repository

### 0.8.32

- the adapter function iobroker.deleteChannel didnt works as expected.\
   It didnt delete the whole subtree of states. now i implement my own delete function

### 0.8.31

- change behaviour of deleting favorites

### 0.8.30

- change from the issue of the adapter checker

### 0.8.29

- optimize handling of player state power and connected

### 0.8.28

- add advanced signaling function with telnet and fix some more authorization\
   issues with `LMS`

### 0.8.27

- initialization for the new calctype property if empty in volumebar

### 0.8.26

- more improvement and fixing at volumebar / remove playlist widget from\
   master. not ready yet

### 0.8.25

- fixing css-settings on volumebar

### 0.8.24

- volumebar didnt get events between the segments, change clickevent and calculation

### 0.8.23

- adjust dependencies to remove vulnerabilities in dependend packages.\
   also remove travis due of unresolvable build-failures for win+node10/12

### 0.8.22

- due to iobroker.controller 2.0 a command in the api changed (socket to vis.conn.\_socket)

### 0.8.21

- add command für playing urls

### 0.8.20

- remove node v6 test setting

### 0.8.19

- shorten news history

### 0.8.18 (2019-06-27)

- last minute changes.

### 0.8.17 (2019-06-26)

- add more widges: playtime bar, string, number, datetime, image.\
   add button margin to player and favorite widget, improve editing of viewindex.\
   do some refactoring.

### 0.8.16 (2019-06-24)

- resolve a cross browser issue for firefox. the style.\
   font attribute is empty and you have to construct the font string by yourself

### 0.8.15 (2019-06-19)

- minor issue with not ready states

### 0.8.14 (2019-06-19)

- add syncgroups as new server-datapoint,add syncgroup widget,/
  change some jquery event logic

### 0.8.13 (2019-06-16)

- rename widgetset from squeezeboxrpcwidgets to squeezeboxrpc

### 0.8.12 (2019-06-16)

- sync version with npm

### 0.8.11 (2019-06-15)

- try to integrate the widgets into the main adapter

### 0.8.10 (2019-05-15)

- another try to fix the EADDRINUSE error of the server discovery

### 0.8.9 (2019-05-15)

- try to fix the EADDRINUSE error of the server discovery

### 0.8.8 (2019-05-14)

- make discover configurable

### 0.8.7 (2019-05-11)

- more control features (select playlist pos to play,ffwd,frew,jump to/
  a time position in song,repeat song,random song)

### 0.8.6 (2019-05-10)

- move some configuration options into seperate tabs

### 0.8.5 (2019-05-08)

- change serverdiscovery interval method, remove some double cmd lines,/
  additional minor changes advised from eslint

### 0.8.4

- move some files to lib directory

### 0.8.3

- close port for discovery on unload

### 0.8.2

- sync version with npm

### 0.8.1

- set compact mode flag

### 0.8.0

- implementation of compact mode, change version to represent a realistic/
  feature completness

### 0.0.9

- debug options are now configurable

### 0.0.8

- More playlist attributes + remove trailing and leading spaces from source

### 0.0.7

- Add the playlist to each player as json

### 0.0.6

- More config options

### 0.0.5

- All levels/subdirectories of favorites are now available in iobroker

### 0.0.4

- added the cmdPlayFavorite for each player

### 0.0.3

- repair the no-data symbols for buttons in vis

### 0.0.2

- added autodiscovery

### 0.0.1

- initial release

## License

MIT License

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

Copyright (c) 2019-2025 oweitman