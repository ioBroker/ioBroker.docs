---
BADGE-Number of Installations: http://iobroker.live/badges/sprinklecontrol-stable.svg
BADGE-NPM version: http://img.shields.io/npm/v/iobroker.sprinklecontrol.svg
BADGE-Downloads: https://img.shields.io/npm/dm/iobroker.sprinklecontrol.svg
BADGE-Dependency Status: https://img.shields.io/david/Dirk-Peter-md/iobroker.sprinklecontrol.svg
BADGE-Known Vulnerabilities: https://snyk.io/test/github/Dirk-Peter-md/ioBroker.sprinklecontrol/badge.svg
BADGE-Travis-CI: http://img.shields.io/travis/Dirk-Peter-md/ioBroker.sprinklecontrol/master.svg
BADGE-NPM: https://nodei.co/npm/iobroker.sprinklecontrol.png?downloads=true
translatedFrom: en
translatedWarning: Если вы хотите отредактировать этот документ, удалите поле «translationFrom», в противном случае этот документ будет снова автоматически переведен
editLink: https://github.com/ioBroker/ioBroker.docs/edit/master/docs/ru/adapterref/iobroker.sprinklecontrol/README.md
title: SprinkleControl
hash: zYzTZ3/dX2jdrqbMzeM+/sc625qzpXC07eTKAWwSwJA=
---
![Логотип](../../../en/adapterref/iobroker.sprinklecontrol/img/sprinklecontrol.png)

# SprinkleControl
### *Адаптер для погодозависимого автоматического полива сада.* (С помощью погодного датчика HmIP-SWO-PL - plus)
К сожалению, мои знания английского слишком малы для описания адаптера.
Буду очень признателен за любую помощь с переводом.

---
---

## Способ действия
- - -

Данные об окружающей среде (температура, влажность, яркость, скорость ветра, количество дождя) оцениваются в Sprinkle Control.
Определенное таким образом испарение используется для определения теоретической влажности почвы на отдельных орошаемых площадях.
В момент времени, указанный в «Настройках времени», активируются контуры полива, уровень которых ниже определенного процента.
Затем эти различные оросительные контуры управляются таким образом, чтобы не превышалась максимальная производительность насоса (л / ч) и максимальное количество оросительных контуров.
Оба являются настраиваемыми.

![schaltverhalten.jpg](../../../en/adapterref/iobroker.sprinklecontrol/img/schaltverhalten.jpg)

** Пример поведения переключения в течение дня (время запуска всех клапанов: 6:00) **

Мой полив работает с датчиком погоды Homematic IP plus (HmIP-SWO-PL) и **тестировался только с этим** Однако на форуме ioBroker есть также некоторые тесты, которые проводятся с метеостанциями через адаптер Sainlogic.

---
---

## Монтаж
- - -

Экземпляр адаптера управления разбрызгиванием устанавливается через интерфейс администратора ioBroker, щелкнув знак «плюс» (+).
В зависимости от активного репозитория, указанного в адаптере администратора, будет установлена стабильная (по умолчанию) или бета-версия (последняя).

---
---

## Конфигурация адаптера - ОСНОВНЫЕ НАСТРОЙКИ
- - -

![screenshot1.jpg](../../../en/adapterref/iobroker.sprinklecontrol/img/screenshot1.jpg)

* 1: перейдите на страницу управления Sprinkle на GitHub.
* 2: Загрузить конфигурацию адаптера из файла
* 3: Сохранить конфигурацию адаптера из файла
* 4: Добавить новый круг полива
* 5: Установите флажок для включения / выключения оросительного контура.
* 6: Название круга орошения автоматически считывается с объектов при выборе идентификатора и затем может быть изменено при необходимости.
* 7: Уникальный идентификатор контролируемой точки данных в объектах.
* 8: Изменить выбранный исполнительный механизм полива.
* 9: Откройте индивидуальную конфигурацию соответствующего оросительного контура.
* 10: Переместить позицию строки
* 11: Удалить контур полива со всеми сконфигурированными данными!

- - -

### Индивидуальная конфигурация оросительного контура
- - -

Откройте индивидуальную конфигурацию соответствующего оросительного контура

![screenshot2.jpg](../../../en/adapterref/iobroker.sprinklecontrol/img/screenshot2.jpg)

** Настройки орошения **

- *Время полива в минутах:* Установите время полива в минутах. Это удлиняется по мере того, как триггер опускается ниже «самого низкого процента влажности почвы».
- *максимальное продление полива в%:* ограничение продолжительности полива в процентах (100% = продолжительность полива не продлевается).
- *Интервал полива в мин:* Время полива делится на интервал. (например, 5 минут, минимум 5 минут, 5 минут и т. д.)
  - **Подсказка:** У меня на входе решетка для газона. Здесь вода стекает по склону только при орошении. Я смог противодействовать этому, поливая через промежутки времени.

** Точка включения полива **

- *Точка включения (влажность почвы) оросительных клапанов в%:* Порог включения: если это значение не достигнуто, полив начинается со времени начала.
- *Влажность почвы = 100% после полива:* При активации влажность почвы устанавливается на 100% после полива. В противном случае он останется чуть ниже из-за испарения при поливе.

** максимальная влажность почвы **

- *максимальная влажность почвы после полива в (мм):* Максимальное теоретическое содержание воды в почве после полива. Чем выше это значение, тем больше интервалы между поливами.
 - **Подсказка:** Сетка газона: 5; Клумба: 10; Площадь газона: 14
- *максимальная влажность почвы после дождя в (мм):* Максимальное теоретическое содержание воды в почве после сильного дождя. Это значение должно быть больше, чем после полива!
 - **Подсказка:** Сетка газона: 6; Клумба: 15; Площадь газона: 19

- - -

#### Индивидуальная конфигурация оросительного контура - ОСНОВНЫЕ НАСТРОЙКИ
- - -

![screenshot3.jpg](../../../en/adapterref/iobroker.sprinklecontrol/img/screenshot3.jpg)

** Расход оросителя **

- *Расход в л / ч:* Удельный расход текущей оросительной станции
  - **Подсказка:** часто встречается в инструкции по эксплуатации или в Интернете.
- *Booster:* Удаляет все активные оросительные контуры из сети на 30 секунд, а затем включает их снова
  - **Подсказка:** Моя помпа подает максимум 1800 л / ч, а моим оросителям для газонов требуется 1400 л / ч, но при полном давлении, чтобы запустить их. Благодаря функции повышения давления я также могу поливать хвойные деревья с помощью капельной линии, которой требуется всего 300 л / ч.

  > - **Опасно:** Эту функцию следует использовать очень экономно, так как только один контур орошения может одновременно поливать с помощью активного усилителя.

---
---

#### Индивидуальная конфигурация оросительного контура - НАСТРОЙКИ НАСОСА
- - -

![screenshot4.jpg](../../../en/adapterref/iobroker.sprinklecontrol/img/screenshot4.jpg)

** Настройки для клапана **

- *Управляющее напряжение клапанов:* Щелчок по символу (+) открывает окно Select-ID State. Здесь вы можете выбрать СОСТОЯНИЕ для управляющего напряжения клапанов. Этот выход становится активным, как только активируется один из клапанов.

  Если вам не нужно это СОСТОЯНИЕ, оставьте это поле пустым!

- *Максимальная параллельная работа клапанов:* Здесь можно ограничить количество активных клапанов. Например, если мощности управляющего трансформатора недостаточно для параллельного включения нескольких клапанов.
- *Расстояние переключения между клапанами в мс:* Введите время в миллисекундах. Это время ожидания переключения следующего клапана, что означает, например, что 6 выходов переключаются один за другим, а не одновременно.

** Настройки для насоса **

- *Главный насос:* Щелчок по символу (+) открывает окно выбора идентификатора. Здесь сохраняется СОСТОЯНИЕ насоса, отвечающего за подачу воды.
- *максимальная производительность основного насоса в л / ч:* Здесь сохраняется максимальная производительность насоса. Затем это ограничивает ирригационные контуры, так что к клапанам по-прежнему прикладывается достаточное давление.
 - **Опасно:** Здесь должна быть указана фактическая мощность насоса. Не тот, что на паспортной табличке. Например, у меня есть ЖК-дисплей Gardena 5000/5, который из-за длины линии обеспечивает производительность только 1800 л / ч, а не 4500 л / ч, как указано на паспортной табличке.

** Добавить насос цистерны **

- *Добавить насос цистерны в качестве приоритетного насоса*
  - *насос бачка:* Здесь вводится насос бачка. Он отключается, если уровень в бачке слишком низкий. В этом случае основной насос продолжает полив.
  - *максимальная производительность насоса в бачке в л / ч:* Здесь сохраняется максимальная производительность насоса в л / ч. См. Раздел «Регулировка главного насоса».
  - *Датчик уровня в бачке:* СОСТОЯНИЕ датчика уровня для определения уровня в 0 ... 100%.
   - *встроено:* Hm-Sen-Wa-Od Емкостный измеритель уровня от HomeMatic.
  - *Минимальный уровень заполнения цист в%:* Если он не достигнут, точка переключения переключается на основной насос, и клапаны регулируются в соответствии с количеством, потребляемым во время полива.

---
---

## Конфигурация адаптера - НАСТРОЙКИ ВРЕМЕНИ
- - -

![screenshot5.jpg](../../../en/adapterref/iobroker.sprinklecontrol/img/screenshot5.jpg)

На этой вкладке можно установить время начала для управления разбрызгиванием.

### Настройки времени начала
- *Время начала полива:*
 - *Начало с фиксированным временем начала:* Здесь можно установить **Время начала недели**
 - *Время начала на рассвете:* Вот время начала на рассвете. Его можно изменить от -120 мин до +120 мин с помощью **Временной сдвиг в мин**
 - *Время начала в конце золотого часа:*

### Настройки времени начала по выходным
- *другое время начала по выходным:* Если вы хотите начать полив в другое время в выходные, чтобы, например, не раздражать соседей, вы можете активировать его здесь.
- *Время начала в выходные:*

### Настройки времени начала в праздничные дни
- *Время начала государственных праздников, как и выходных:* Если праздничные дни следует рассматривать как выходные, это можно активировать здесь.
- *Экземпляр государственных праздников* Здесь необходимо выбрать внешний экземпляр государственных праздников (например, адаптер «Deutsche Feiertage»).

---
---

## Конфигурация адаптера - ДОПОЛНИТЕЛЬНЫЕ НАСТРОЙКИ
- - -

![screenshot6.jpg](../../../en/adapterref/iobroker.sprinklecontrol/img/screenshot6.jpg)

### Настройки Astro
SprinkleControl берет широту и долготу из системных настроек ioBroker.
SprinkleControl использует эти значения для расчета положения солнца и внеземного излучения для испарения.

### Настройки отладки
При активации в журнале отображается дополнительная информация. Это позволяет быстрее анализировать ошибки.

### Настройка дополнительных уведомлений
Активируйте вкладку Уведомления. Затем настройки связи выполняются на новой вкладке «Уведомления».

### Датчики «(Homematic HmIP-SWO-PL)» для расчета испарения
> - **Опасно:** Программа адаптирована к «Метеостанции HomeMatic HmIP-SWO-PL» для расчета испарения! Без этих данных никакие оросительные контуры не запускаются.

- Но я слышал с форума, что программа также работает с данными о погоде через "Sainlogic Adapter".
- Датчики рассчитывают максимально возможное испарение потенциальной эвапотранспирации согласно Penman ETp и, таким образом, контролируют систему орошения.

  Это происходит каждый раз при изменении температуры.

### Прогноз погоды
- Если вы активируете поле «Использовать прогноз погоды», появится поле выбора. Здесь необходимо выбрать экземпляр адаптера «Das Wetter».

«Путь 2: XML-файл с прогнозом погоды на 5 дней и подробной информацией за каждые 3 часа» необходимо заполнить в адаптере «Das Wetter», чтобы SprinkleControl мог получить доступ к объекту ** «daswetter.0.NextDaysDetailed.Location_1.Day_1. .rain_value "**. Это значение затем используется, чтобы отложить полив, когда ожидается дождь.

---
---

## Конфигурация адаптера - УВЕДОМЛЕНИЯ
- - -

![screenshot7.jpg](../../../en/adapterref/iobroker.sprinklecontrol/img/screenshot7.jpg)

- После активации вкладки УВЕДОМЛЕНИЯ вы можете выбрать способ уведомления и ввести здесь свои данные.
- Поддерживаются следующие способы уведомления:
  - Электронное письмо
  - Пустышка
  - Telegram
  - WhatsApp

---
---

## Admin => Objekte => sprinklecontrol.0.
- - -

![screenshot8.jpg](../../../en/adapterref/iobroker.sprinklecontrol/img/screenshot8.jpg)

### Контроль
- **Праздник:** Если для параметра «Праздник» установлено значение «Истина», полив начнется как в выходные дни, если включена настройка выходных дней. Здесь также возможна связь с календарем.
- **autoOnOff:** При настройке «Выкл.» автоматический режим системы полива отключен.
- **parallelOfMax:** Например (3: 4). Здесь активны три из четырех возможных кругов полива. (Это просто реклама!)
- **restFlow:** Отображение возможного остаточного расхода насоса. (Это просто реклама!)

### Испарение
- **ETpCurrent:** Это текущее испарение в виде суточного значения в мм / день.
- **ETpToday:** Здесь отображается текущее дневное значение испарения. Это будет перемещено в ETpYesterday в 00:05, а затем сброшено на 0.
- **ETpYesterday:** Здесь показано вчерашнее испарение.

### Информация
- **cisternState** При необходимости здесь отображается статус бачка и его статус.
- **nextAutoStart** Указывает на следующий запуск оросительной системы.
- **rainToday** Здесь отображается прогноз осадков на сегодня. Для этого нужен переходник "погода".
- **rainTomorrow** Прогноз осадков на завтра от адаптера "Погода".

### Посыпать. *.
- **история**
 - **curCalWeekConsumed:** Текущее недельное потребление оросительного контура в литрах.
 - **curCalWeekRunningTime:** текущее общее недельное время работы оросительного контура.
 - **lastCalWeekConsumed:** потребление контура орошения за последнюю неделю в литрах.
 - **lastCalWeekRunningTime:** общее время выполнения цикла полива за последнюю неделю.
 - **lastConsumed:** Расход воды во время последнего полива в литрах
 - **lastOn:** последний запуск цикла полива (05.07 14:14)
 - **lastRunningTime:** продолжительность последнего полива
- **actualSoilMoisture** Это текущая виртуальная влажность почвы в% => критерий срабатывания (макс. 100% после полива, более 100% после сильного дождя). Внимание: это значение может значительно отличаться от фактической влажности почвы.
- **autoOn** Автоматическое включение (Здесь вы можете отключить автоматический полив этого контура, например, во время ремонта, при этом ручной полив возможен в любое время.)
- **обратный отсчет** оставшееся время полива
- **Время работы** Продолжительность полива
  - Если здесь введено число больше 0, цикл полива начинается в течение указанного времени в минутах.
  - Если вы введете 0, полив круга будет завершен.
- **sprinklerState** Отображение состояния оросительного контура.
  - выкл. (0) → поливной контур выключен.
  - подождите (1) → орошающий контур ожидает, когда станет доступна мощность насоса.
  - вкл. (2) → поливной круг вкл.
  - обрыв (3) → Цикл полива был прерван (конфигурация, интервал полива)
  - Boost (4) → Активна функция Boost текущего контура орошения (конфигурация, усилитель включен).
  - выкл. (Boost) (5) → Цепь орошения прервана на 30 с, потому что активна функция Boost.

## Changelog

<!--
	Placeholder for the next version (at the beginning of the line):
	### **WORK IN PROGRESS**
-->

### 0.1.7 (22.05.2021)
* (Dirk-Peter-md) Beschreibung in englischer Sprache hinzugefügt
* (Dirk-Peter-md) bereit für stable

### 0.1.6 (18.05.2021)
* (Dirk-Peter-md) AutoOn-Schalter pro Bewässerungskreis hinzugefügt
* (Dirk-Peter-md) weitere Fehler beseitigt (js-Controller)
* (Dirk-Peter-md) Niederschlagszähler von der Verdunstung gelöst

### 0.1.5 (05.05.2021)
* (Dirk-Peter-md) Zurücksetzen der Regenmenge im 24-Stunden-Modus hinzugefügt

### 0.1.4 (21.04.2021)
* (Dirk-Peter-md) Fehler bei deaktivierter Wettervorhersage behoben

### 0.1.3 (18.04.2021)
* (Dirk-Peter-md) Schaltabstand zwischen den Ventilen eingebaut, main.js aufgeteilt

### 0.1.2 (30.12.2020)
* (Dirk-Peter-md) Beschreibung von SprinkleControl überarbeitet

### 0.1.1 (08.11.2020)
* (Dirk-Peter-md) Integration von Nachrichten per Telegramm, E-Mail, Pushover und WhatsApp

### 0.0.12 (10.10.2020)
* (Dirk-Peter-md) Bewässerung über eine 2. Pumpe (Zisterne mit Vorrangschaltung) in abhängigkeit vom Füllstand hinzugefügt.

### 0.0.11 (30.08.2020)
* (Dirk-Peter-md) Bug in der Verarbeitung der Regenvorhersage vom Adapter "Das Wetter"
* (Dirk-Peter-md) Bug auf Travis CI


*************************************************************************************************************************************

## License
MIT License

Copyright (c) 2021 Dirk Peter <dirk.peter@freenet.de>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.