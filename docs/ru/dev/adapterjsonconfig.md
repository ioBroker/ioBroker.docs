---
translatedFrom: en
translatedWarning: Если вы хотите отредактировать этот документ, удалите поле «translationFrom», в противном случае этот документ будет снова автоматически переведен
editLink: https://github.com/ioBroker/ioBroker.docs/edit/master/docs/ru/dev/adapterjsonconfig.md
title: Конфигурация ioBroker JSON: руководство для начинающих
hash: Uv6hWjFceLb8lT64jr+rkILf4J5Re0g7OOWTqbQbvSQ=
---
# Конфигурация JSON ioBroker: руководство для начинающих
В этом руководстве объясняется, как определить параметры конфигурации для вашего адаптера ioBroker с помощью JSON. Этот подход предлагает более удобный и гибкий способ управления настройками адаптера в интерфейсе администратора ioBroker.

## Что вам понадобится
- ioBroker Admin версии 6 (или новее)
- Базовое понимание синтаксиса JSON

## Преимущества конфигурации JSON
- Улучшен пользовательский интерфейс для настройки адаптеров
- Более простая интеграция сложных вариантов конфигурации
- Четкое разделение между кодом адаптера и конфигурацией

## Начиная
1. **Определите файл конфигурации:**

- Создайте файл с именем `jsonConfig.json` или `jsonConfig.json5` в административном каталоге вашего адаптера.
- JSON5 — это надмножество JSON, которое позволяет добавлять комментарии, что делает файл конфигурации более читабельным.

2. **Включить конфигурацию JSON:**

- В файле `io-package.json` вашего адаптера добавьте следующую строку в раздел `common`:

```json
"common": {
    "adminUI": {
        "config": "json"
    }
}
```

3. **Структура файла конфигурации:**

Файл конфигурации определяет иерархическую структуру вкладок, панелей и элементов управления. \ Каждый элемент имеет определенные атрибуты, которые определяют его поведение и внешний вид в интерфейсе администратора.

jsonConfig автоматически обеспечивает запись собранных данных в качестве данных конфигурации адаптера и их внутреннее хранение для возможности их извлечения и дальнейшей обработки в адаптере.

В следующем примере будет создан следующий объект конфигурации:

```json5
{
  options1: {
    myPort: 1234,
    options: {
      myType: 1,
    },
    myBool: false,
  },
}
```

_Если имя атрибута начинается с «\_», оно не будет сохранено в объекте._

## Пример jsonConfig с несколькими вкладками
```json5
{
    "type": "tabs",
    "items": {
        "options1": {
            "type": "panel",
            "label": "Tab1",
            "icon": "base64 svg", // optional
            "items": {
                myPort: {
                    "type": "number",
                    "min": 1,
                    "max": 65565,
                    "label": "Number",
                    "sm": 6, // 1 - 12
                    "validator": "!!data.name", // else error
                    "hidden": "data.myType === 1", // hidden if myType is 1
                    "disabled": "data.myType === 2" // disabled if myType is 2
                },
                "options.myType": { // name could support more than one level
                    "newLine": true, // must start from new row
                    "type": "select",
                    "label": "Type",
                    "sm": 6, // 1 - 12
                    "options": [
                        {"label": "option 1", "value": 1},
                        {"label": "option 2", "value": 2}
                    ]
                },
                "myBool": {
                    "type": "checkbox",
                    "label": "My checkbox",
                },
                "_notSaved":"abc"
            }
        },
        "tab2": {
            "label": "Tab2",
            "type": "panel",
            "disabled": "data.myType === 1",
            "hidden": "data.myType === 2",
        }
    },
}
```

Дополнительные примеры можно найти во многих других адаптерах на GitHub в соответствующем административном каталоге.

## Поддержка инструментов разработки
### VS Код
Чтобы включить проверку jsonConfig в VS code, необходимо добавить следующий раздел в файл «.vscode/settings.json».

```json5
    "json.schemas": [
        {
            "fileMatch": ["admin/jsonConfig.json", "admin/jsonCustom.json", "admin/jsonTab.json"],
            "url": "https://raw.githubusercontent.com/ioBroker/ioBroker.admin/master/packages/jsonConfig/schemas/jsonConfig.json"
        }
    ]
```

## Общие элементы управления
jsonConfig состоит из нескольких элементов, которые структурированы иерархически. \ Каждый из элементов может быть одного из следующих типов.\ Некоторые элементы могут содержать дополнительные дочерние элементы.

Вы можете увидеть почти все компоненты в действии, если протестируете этот адаптер: [jsonconfig-демо](https://github.com/mcm4iob/ioBroker.jsonconfig-demo).\ Вы можете установить его с помощью значка GitHub в панели администратора, введя `iobroker.jsonconfig-demo` на вкладке npm.

- [**`accordion`:**](#accordion) Элемент аккордеона для сворачиваемого содержимого (Admin 6.6.0 или новее)
- [**`alive`:**](#alive) Отображает, запущен ли экземпляр (только для чтения)
- [**`autocomplete`:**](#autocomplete) Поле ввода с предложениями автозаполнения
- [**`autocompleteSendTo`:**](#autocompletesendto) Элемент управления автозаполнением со значениями экземпляров для отправки данных
- [**`certificate`:**](#certificate) Управляет сертификатами для безопасных соединений.
- [**`certificateCollection`:**](#certificatecollection) Выбирает коллекцию для сертификатов Let's Encrypt
- [**`certificates`:**](#certificates) Универсальный тип для управления различными типами сертификатов (начиная с Admin 6.4.0)
- [**`checkbox`:**](#checkbox) Флажок для логических значений
- [**`checkLicense`:**](#checklicense) Очень специальный компонент для проверки лицензии онлайн
- [**`chips`:**](#chips) Пользователь может вводить слова, которые добавляются в массив
- [**`color`:**](#color) Выбор цвета
- [**`cron`:**](#cron) Настраивает выражения cron для планирования задач
- [**`custom`:**](#custom) Интегрирует пользовательские компоненты для определенных функций (только Admin 6)
- [**`datePicker`:**](#datepicker) Позволяет пользователям выбирать дату
- [**`deviceManager`:**](#devicemanager) показать диспетчер устройств
- [**`divider`:**](#divider) Создает горизонтальную линию-разделитель
- [**`file`:**](#file) Поле ввода с выбором файла и дополнительными возможностями загрузки/выгрузки (только Admin 6)
- [**`fileSelector`:**](#fileselector) Позволяет пользователям выбирать файлы из системы (только Admin6)
- [**`func`:**](#func) Выбирает функцию из списка enum.func (только Admin 6)
- [**`header`:**](#header) Создает заголовок с разными размерами (h1-h5)
- [**`image`:**](#image) Загружает или отображает изображение
- [**`imageSendTo`:**](#imagesendto) Отображает изображение, полученное от бэкэнда, и отправляет данные на основе команды.
- [**`instance`:**](#instance) Выбирает экземпляр адаптера
- [**`interface`:**](#interface) Выбирает интерфейс хоста, на котором запущен экземпляр
- [**`ip`:**](#ip) Поле ввода IP-адресов с расширенными параметрами
- [**`jsonEditor`:**](#jsoneditor) Редактор JSON для сложных данных конфигурации
- [**`language`:**](#language) Выбор языка пользовательского интерфейса
- [**`license`:**](#license) показывает информацию о лицензии, если она еще не принята.
- [**`number`:**](#number) Числовое поле ввода с минимальными/максимальными значениями и размером шага
- [**`oauth2`:**](#oauth2) Создать аутентификацию OAuth2 для адаптера (Admin 7.6.18 или новее)
- [**`objectId`:**](#objectid) Выбирает идентификатор объекта с именем, цветом и значком
- [**`panel`:**](#panel) Вкладка с элементами
- [**`password`:**](#password) Поле ввода пароля
- [**`pattern`:**](#pattern) Поле только для чтения, показывающее шаблон (например, URL)
- [**`port`:**](#port) Специальный ввод для портов
- [**`qrCode`:**](#qrcode) Отображает данные в виде QR-кода (Admin 7.0.18 или новее)
- [**`room`:**](#room) Выбирает комнату из списка `enum.room` (только Admin 6)
- [**`select`:**](#select) Выпадающее меню с предопределенными параметрами
- [**`selectSendTo`:**](#selectsendto) Раскрывающееся меню со значениями экземпляров для отправки данных
- [**`sendTo`:**](#sendto) Кнопка, которая отправляет запрос экземпляру
- [**`setState`:**](#setstate) Кнопка, которая устанавливает состояние экземпляра
- [**`slider`:**](#slider) Ползунок для выбора значения в диапазоне (только Admin 6)
- [**`state`:**](#state) Показать элемент управления или информацию из состояния (admin >= 7.1.0)
- [**`staticImage`:**](#staticimage) Отображает статическое изображение
- [**`staticInfo`:**](#staticinfo) Показывает статическую информацию в предварительно отформатированном виде, например «Заголовок: единица измерения» (admin >= 7.3.3)
- [**`staticLink`:**](#staticlink) Создает статическую ссылку
- [**`staticText`:**](#statictext) Отображает статический текст (например, описание)
- [**`coordinates`:**](#coordinates) Определяет текущее местоположение и использует координаты `system.config`, если это невозможно в формате "широта,долгота"
- [**`table`:**](#table) Таблица со строками, которые можно добавлять, удалять или переупорядочивать
- [**`tabs`:**](#tabs) Вкладки с элементами
- [**`text`:**](#text) Одно- или многострочное поле ввода текста
- [**`textSendTo`:**](#textsendto) Показывает элемент управления только для чтения с указанными в экземпляре значениями.
- [**`timePicker`:**](#timepicker) Позволяет пользователям выбирать время
- [**`user`:**](#user) Выбирает пользователя из списка `system.user`
- [**`uuid`:**](#uuid) Показать UUID iobroker

Используя конфигурацию JSON, вы можете создать удобную и адаптируемую среду настройки для вашего адаптера ioBroker.

## Примеры проектов
| Тип | Ссылка |
|-------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Несколько вкладок: | [`ioBroker.admin`](https://github.com/ioBroker/ioBroker.admin/blob/master/admin/jsonConfig.json5) |
| Пользовательский компонент: | [`telegram`](https://github.com/iobroker-community-adapters/ioBroker.telegram/tree/master/src-admin) или в [`pushbullet`](https://github.com/Jens1809/ioBroker.pushbullet/tree/master/src-admin) |
| Пользовательский компонент: | [`telegram`](https://github.com/iobroker-community-adapters/ioBroker.telegram/tree/master/src-admin) или в [`pushbullet`](https://github.com/Jens1809/ioBroker.pushbullet/tree/master/src-admin) |
| Проверка: | |

## Разделение больших конфигураций
## Включает
Требуется администратор 6.17.1 или более поздняя версия.

Для записи сложных файлов JSON вы можете включить другие файлы JSON.
Включенный файл должен находиться в том же каталоге, что и основной файл.

```json5
{
  tabs: {
    tab1: {
      type: "panel", // data will be combined with the content of "tab1.json". If the same attribute is defined in both files, the value from the included file will be used.
      "#include": "tab1.json",
    },
  },
}
```

## I18n - Интернационализация
Есть несколько вариантов предоставления переводов. Только первый из них совместим с нашим инструментом перевода сообщества Weblate, поэтому его следует предпочесть другим!

Чтобы включить функцию перевода, необходимо предоставить и включить свойство i18n на верхнем уровне объекта конфигурации JSON.

```json5
{
  i18n: true,
}
```

### Перевод в отдельных файлах: совместимо с weblate
По умолчанию файлы должны располагаться в следующих каталогах:

```text
admin/i18n/de/translations.json
admin/i18n/en/translations.json
```

или

```text
admin/i18n/de.json
admin/i18n/en.json
```

Кроме того, пользователь может указать путь к файлам `i18n`, `i18n`: `customI18n` и указать файлы в админке:

```json5
  i18n: "customI18n",
```

```text
admin/customI18n/de/translations.json
admin/customI18n/en/translations.json
```

или

```text
admin/customI18n/de.json
admin/customI18n/en.json
```

Структура файла соответствует следующей структуре

**en.json:**

```json5
{
  i18nText1: "Open",
  i18nText2: "Close",
  "This is a Text": "This is a Text",
}
```

**de.json:**

```json5
{
  i18nText1: "Öffnen",
  i18nText2: "Schließen",
  "This is a Text": "Dies ist ein Text",
}
```

При поиске перевода информация в определенном поле используется для поиска свойства с текстом в файлах. Если свойство не найдено, информация из поля остается. Рекомендуется вводить текст на английском языке.

### Предоставляйте перевод прямо в полях
Переводы могут быть указаны во всех полях, которые могут содержать текст. Примерами полей являются метка, заголовок, подсказка, текст и т. д.

```json5
   "type": "text",
   "label: {
        "en": "house",
        "de": "Haus"
    }
}
```

### Предоставляйте перевод прямо в i18n
Переводы также могут быть предоставлены непосредственно как объект в атрибуте `i18n` на верхнем уровне объекта `jsonConfig`.

При поиске перевода информация в определенном поле используется для поиска свойства с текстом в объекте i18n.
Если свойство не найдено, информация из поля остается.
Рекомендуется вводить текст на английском языке.

## Типы элементов
Каждый элемент может иметь [общие атрибуты](#common-attributes-of-controls) и специальные атрибуты, принадлежащие соответствующему типу, как указано ниже.

### `tabs`
Вкладки с элементами

| Недвижимость | Описание |
|-----------------|------------------------------------------------------------------------------------------------|
| `items` | Объект с панелями `{"tab1": {}, "tab2": {}...}` |
| `tabsStyle` | Стили CSS в формате React (`marginLeft`, а не `margin-left`) для компонента Mui-Tabs |
| `tabsStyle` | Стили CSS в формате React (`marginLeft`, а не `margin-left`) для компонента Mui-Tabs |

### `panel`
Вкладка с элементами

| Недвижимость | Описание |
|---------------|-----------------------------------------------------------------------------------------------------------------------------------------|
| `icon` | вкладка может иметь значок (base64, например, `data:image/svg+xml;base64,...`) или изображения `jpg/png` (заканчивается на `.png`) |
| `items` | Объект `{"attr1": {}, "attr2": {}}...` |
| `collapsable` | возможно только как часть вкладок[jsonConfig.json](..%2F..%2F..%2F..%2F..%2FioBroker.ring%2Fadmin%2FjsonConfig.json) |
| `color` | цвет сворачиваемого заголовка `primary` или `secondary` или ничего |
| `innerStyle` | CSS-стили для внутреннего div в формате React (`marginLeft`, а не `margin-left`) для компонента Panel. Не используется для сворачиваемых панелей. |
| `innerStyle` | CSS-стили для внутреннего div в формате React (`marginLeft`, а не `margin-left`) для компонента Panel. Не используется для сворачиваемых панелей. |

### `text`
Текстовый компонент

| Недвижимость | Описание |
|-------------------|--------------------------------------------------------------------------------------------------------|
| `maxLength` | максимальная длина текста в поле |
| `copyToClipboard` | показать кнопку копирования в буфер обмена, но только если отключено или доступно только для чтения |
| `trim` | по умолчанию true. Установите этот атрибут на `false`, если обрезка не требуется. |
| `minRows` | по умолчанию 1. Установите этот атрибут на `2` или больше, если вы хотите иметь текстовую область с более чем одной строкой. |
| `maxRows` | максимальное количество строк текстовой области. Используется только если `minRows` > 1. |
| `noClearButton` | если true, кнопка очистки не будет отображаться (admin >= 6.17.13) |
| `validateJson` | если true, текст будет проверен как JSON |
| `allowEmpty` | если true, JSON будет проверен только в том случае, если значение не пустое |
| `time` | значение — время в мс или строка. Используется только с флагом readOnly |
| `time` | значение — время в мс или строка. Используется только с флагом readOnly |

### `number`
| Недвижимость | Описание | Примечание |
|----------|---------------|----------------|
| `min` | минимальное значение | |
| `step` | шаг | |
| `unit` | блок | администратор >= 7.4.9 |
| `юнит` | юнит | админ >= 7.4.9 |

### `color`
выбор цвета

| Недвижимость | Описание |
|-----------------|----------------------------------------------------------------|
| `noClearButton` | если true, кнопка очистки не будет отображаться (admin >= 6.17.13) |

### `checkbox`
показать флажок

### `slider`
показать слайдер (только Admin6)

| Недвижимость | Описание |
| -------- | ----------------------------- |
| `min` | (по умолчанию 0) |
| `step` | (по умолчанию `(max - min) / 100`) |
| `unit` | Единица ползунка |
| `unit` | Единица измерения ползунка |

### `qrCode`
показать данные в QR-коде (admin >= 7.0.18)

| Недвижимость | Описание |
| --------- | ------------------------------------- |
| `data` | данные, которые будут закодированы в QR-коде |
| `fgColor` | Цвет переднего плана |
| `bgColor` | Цвет фона |
| `level` | Уровень QR-кода (`L` `M` `Q` `H`) |
| `уровень` | Уровень QR-кода (`L` `M` `Q` `H`) |

### `ip`
привязать адрес

| Недвижимость | Описание |
|--------------------|-----------------------------------|
| `listenOnAllPorts` | добавить 0.0.0.0 к опции |
| `onlyIp6` | показать только адреса IP6 |
| `noInternal` | не показывать внутренние IP-адреса |
| `noInternal` | не показывать внутренние IP-адреса |

### `user`
выбрать пользователя из system.user. (С цветом и значком)

| Недвижимость | Описание |
|----------|-----------------|
| `short` | нет системного.пользователя. |

### `room`
Выберите комнату из `enum.room` (с цветом и значком) - (только Admin6)

| Недвижимость | Описание |
|-------------------|--------------------------|
| `short` | нет `enum.rooms.` |
| `allowDeactivate` | разрешить оставлять комнату пустой |

### `func`
Выберите функцию из `enum.func` (с цветом и значком) - (только Admin6)

| Недвижимость | Описание |
|-------------------|-----------------------------------|
| `short` | нет `enum.func.` |
| `allowDeactivate` | разрешить оставить функциональность пустой |

### `select`
| Недвижимость | Описание |
|-----------------|---------------------------------------------------------------------------|
| `options` | объект с метками, необязательными переводами, необязательной группировкой и значениями |
| `showAllValues` | показать элемент, даже если для него не найдено ни одной метки (по нескольким), по умолчанию=`true` |
| `showAllValues` | показать элемент, даже если для него не найдено ни одной метки (по нескольким), default=`true` |

#### Пример для `select options`
```json
[
  {"label": {"en": "option 1"}, "value": 1}, ...
]
```

или

```json
[
   {
      "items": [
         {"label": "Val1", "value": 1},
         {"label": "Val2", "value": 2}
         ],
      "name": "group1"
   },
   {
      "items": [
         {"label": "Val3", "value": 3},
         {"label": "Val4", "value": 4}
      ],
      "name": "group2"
   },
   {"label": "Val5", "value": 5}
]
```

### `autocomplete`
| Недвижимость | Описание |
|------------|---------------------------------------------------------------------------------------------------------------|
| `options` | `["value1", "value2", ...]` или `[{"value": "value", "label": "Value1"}, "value2", ...]` (ключи должны быть уникальными) |
| `freeSolo` | Установите `freeSolo` в `true`, чтобы текстовое поле могло содержать любое произвольное значение. |

### `image`
сохраняет изображение как файл объекта `adapter.X` или как base64 в атрибуте

| Недвижимость | Описание |
|--------------|----------------------------------------------------------------------------------------------------------------------------------------|
| `filename` | имя файла — это имя структуры. В приведенном ниже примере `login-bg.png` — это имя файла для `writeFile("myAdapter.INSTANCE", "login-bg.png")` |
| `maxSize` | максимальный размер файла для загрузки |
| `base64` | если true, изображение будет сохранено как data-url в атрибуте, в противном случае как двоичный файл в файловом хранилище |
| `crop` | если true, разрешить пользователю обрезать изображение |
| `!maxWidth` | |
| `!maxHeight` | |
| `!square` | ширина должна быть равна высоте, или обрезка должна допускать только квадратную форму |
| `!square` | ширина должна быть равна высоте, или обрезка должна допускать только квадратную форму |

#### Пример для `image`
```json
  "login-bg.png": {
       "type": "image",
       "accept": "image/png",
       "label": {
         "en": "Upload image"
       },
       "crop": true
     },
     "picture": {
       "type": "image",
       "base64": true,
       "accept": "image/*",
       "label": {
         "en": "Upload image"
       },
       "crop": true
     }
  }
```

### `oauth2`
(админ >= 6.17.18)

Отображает кнопку аутентификации OAuth2 для получения токенов обновления и доступа для адаптера.

Чтобы использовать эту функцию, необходимо сначала предоставить данные OAuth2 (идентификатор клиента, секрет и т. д.) команде поддержки ioBroker, чтобы они могли добавить их в облако.

| Недвижимость | Описание |
|----------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `identifier` | Идентификатор Oauth2, например `spotify`, `google`, `dropbox`, `microsoft` |
| `scope` | Необязательные области действия, разделенные пробелом, например, `user-read-private user-read-email` |
| `refreshLabel` | Необязательная метка кнопки для обновления токена |
| `refreshLabel` | Необязательная метка кнопки для обновления токена |

#### Пример для `oauth2`
```json
  "_oauth2": {
       "type": "oauth2",
       "identifier": "spotify",
       "label": "Get Spotify OAuth2 Token",
       "refreshLabel": "Refresh Spotify OAuth2 Token",
       "icon": "data:image/svg+xml;base64,...",
  }
```

Для получения дополнительной информации см. также [OAUTH2.md](OAUTH2.md).

### `objectId`
ID объекта: показать его с именем, цветом и значком

| Недвижимость | Описание |
|----------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `types` | Желаемый тип: `channel`, `device`, ... (по умолчанию есть только `state`). Это множественное число, потому что `type` уже занято. |
| `customFilter` | [необязательно] Нельзя использовать вместе с настройками `type`. Это объект, а не строка JSON. |
| `filterFunc` | [необязательно] Нельзя использовать вместе с настройками `type`. Это функция, которая будет вызываться для каждого объекта и должна возвращать значение true или false. Пример: `obj.common.type === 'number'` |
| `filterFunc` | [необязательно] Нельзя использовать вместе с настройками `type`. Это функция, которая будет вызываться для каждого объекта и должна возвращать true или false. Пример: `obj.common.type === 'number'` |

#### Примеры для `customFilter`
##### Показывать только объекты с некоторыми пользовательскими настройками
`{common: {custom: true}}`

##### Показывать только объекты с пользовательскими настройками sql.0 (только определенного экземпляра)
`{common: {custom: 'sql.0'}}`

##### Показать только объекты адаптеров `influxdb` или `sql` или `history`
`{common: {custom: '_dataSources'}}`

##### Показывать только объекты пользовательских настроек для определенного адаптера (все экземпляры)
`{common: {custom: 'adapterName.'}}`

##### Показывать только каналы
`{type: 'channel'}`

##### Показывать только каналы и устройства
`{type: ['channel', 'device']}`

##### Показывать только состояния типа «число»
`{common: {type: 'number'}`

##### Показать только состояния типа «число» и «строка»
`{common: {type: ['number', 'string']}`

##### Показать только состояния с ролями, начинающимися с switch
`{common: {role: 'switch'}`

##### Показать только состояния с ролями, начинающимися с `switch` и `button`
`{common: {role: ['switch', 'button']}`

### `password`
Этот тип поля влияет только на пользовательский интерфейс.
Пароли и другие конфиденциальные данные должны храниться в зашифрованном виде! Для этого ключ должен быть указан в io-package.json в [роднойЗашифрованный](https://github.com/ioBroker/ioBroker.js-controller#automatically-encryptdecrypt-configuration-fields).
Кроме того, вы можете защитить это свойство от передачи другим адаптерам, кроме `admin` и `cloud`, добавив его в `protectedNative` в файле `io-package.json`.

| Недвижимость | Описание |
|-------------|---------------------------------------------------------------------------------------------------------|
| `repeat` | повторите пароль, его необходимо сравнить с паролем |
| `readOnly` | флаг только для чтения. Visible автоматически становится истинным, если readOnly является истинным |
| `maxLength` | максимальная длина текста в поле |
| `maxLength` | максимальная длина текста в поле |

### `instance`
| Недвижимость | Описание |
|-------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `adapter` | имя адаптера. Со специальным именем `_dataSources` вы можете получить все адаптеры с флагом `common.getHistory`. |
| `allowDeactivate` | если true. Отображается дополнительная опция «деактивировать» |
| `onlyEnabled` | если true. Будут показаны только включенные экземпляры |
| `long` | значение будет выглядеть как `system.adapter.ADAPTER.0`, а не `ADAPTER.0` |
| `short` | значение будет выглядеть как `0`, а не `ADAPTER.0` |
| `all` | Добавить к параметрам «все» параметр со значением `*` |
| `all` | Добавить к параметрам параметр «all» со значением `*` |

### `chips`
Пользователь может ввести слово, и оно будет добавлено (см. облако => сервисы => Белый список). Вывод — массив, если не определено `delimiter`.

| Недвижимость | Описание |
|-------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `delimiter` | если он определен, то опция будет сохранена как строка с разделителем, а не как массив. Например, по `delimiter=;` вы получите `a;b;c` вместо `['a', 'b', 'c']` |

### `alive`
просто указание, активен ли экземпляр, и его можно использовать в состоянии «скрытый» или «отключенный» (не будет сохранено в конфигурации)

Просто текст: Экземпляр запущен, Экземпляр не запущен

| Недвижимость | Описание |
|----------------|-------------------------------------------------------------------------------------------------------------------------------------|
| `instance` | проверить, активен ли экземпляр. Если не определено, будет использоваться текущий экземпляр. Вы можете использовать шаблон `${data.number}` в тексте. |
| `textNotAlive` | текст по умолчанию `Instance %s is not alive`, где %s будет заменен на `ADAPTER.0`. Перевод должен существовать в файлах i18n |
| `textNotAlive` | текст по умолчанию `Экземпляр %s не жив`, где %s будет заменен на `ADAPTER.0`. Перевод должен существовать в файлах i18n |

### `pattern`
Поле только для чтения с шаблоном типа «https://${data.ip}:${data.port}» (не будет сохранено в конфигурации) Текстовый ввод с флагом только для чтения, который отображает шаблон.

| Недвижимость | Описание |
|-------------------|-----------------------|
| `copyToClipboard` | если true - показать кнопку |
| `pattern` | мой шаблон |

### `sendTo`
кнопка, которая отправляет запрос экземпляру (<https://github.com/iobroker-community-adapters/ioBroker.email/blob/master/admin/index_m.html#L128>)

| Недвижимость | Описание |
|-----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `command` | (По умолчанию `send`) |
| `data` | объект - `{"subject1": 1, "data": "static"}`. Можно указать jsonData или data, но не оба. |
| `result` | `{result1: {en: 'A'}, result2: {en: 'B'}}` |
| `error` | `{error1: {en: 'E'}, error2: {en: 'E2'}}` |
| `variant` | `contained`, `outlined` или ничего. Вариант кнопки. |
| `openUrl` | если true - открыть URL в новой вкладке, если ответ содержит атрибут `openUrl`, например `{"openUrl": "http://1.2.3.4:80/aaa", "window": "_blank", "saveConfig": true}`. Если `saveConfig` имеет значение true, пользователю будет предложено сохранить конфигурацию. |
| `reloadBrowser` | если true - перезагрузить текущее окно браузера, если ответ содержит атрибут `reloadBrowser`, например `{"reloadBrowser": true}`. |
| `window` | если `openUrl` истинно, это имя нового окна. Может быть перезаписано, если ответ состоит из атрибута `window`. `this.props.socket.sendTo(adapterName.instance, command \|\| 'send', data, result => {});` |
| `icon` | если значок должен быть показан: `auth`, `send`, `web`, `warning`, `error`, `info`, `search`. Вы можете использовать значки `base64` (например, `data:image/svg+xml;base64,...`) или изображения `jpg/png` (заканчиваются на `.png`). (Запрос через issue, если вам нужно больше значков) |
| `useNative` | если адаптер возвращает результат с атрибутом `native`, он будет использован для конфигурации. Если `saveConfig` имеет значение true, пользователю будет предложено сохранить конфигурацию. |
| `showProcess` | Показывать счетчик во время выполнения запроса |
| `timeout` | тайм-аут для запроса в мс. По умолчанию: нет. |
| `onLoaded` | выполнить логику кнопки один раз изначально |
| `controlStyle` | Стили для кнопки. |
| `controlStyle` | Стили для кнопки. |

### `setState`
кнопка, которая устанавливает состояние экземпляра

| Недвижимость | Описание |
|-----------|-----------------------------------------------------------------------------------------------------------------------------------|
| `id` | `system.adapter.myAdapter.%INSTANCE%.test`, вы можете использовать заполнитель `%INSTANCE%`, чтобы заменить его на имя текущего экземпляра |
| `val` | `${data.myText}\_test` или число. Тип будет определен автоматически из типа состояния и преобразование также выполнено |
| `okText` | Оповещение, которое будет показано при нажатии кнопки |
| `variant` | `contained`, `outlined`, '' |
| `вариант` | `содержался`, `очерчен`, '' |

### `staticText`
статический текст, как описание

| Недвижимость | Описание |
|----------|---------------------|
| `label` | многоязычный текст |
| `текст` | то же, что и метка |

необходимо указать только один из `label` или `text`, а не оба

### `staticLink`
| Недвижимость | Описание |
|-----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `label` | многоязычный текст |
| `target` | `_blank` или `_self` или имя окна |
| `close` | если true, GUI будет закрыт (используется не для JsonConfig в админке, а для динамического GUI) |
| `button` | показать ссылку как кнопку |
| `variant` | тип кнопки (`outlined`, `contained`, `text`) |
| `color` | цвет кнопки (например, `primary`) |
| `icon` | если значок должен быть показан: `auth`, `send`, `web`, `warning`, `error`, `info`, `search`, `book`, `help`, `upload`. Вы можете использовать значки `base64` (они начинаются с `data:image/svg+xml;base64,...`) или изображения `jpg/png` (они заканчиваются на `.png`). (Запросите через issue, если вам нужно больше значков) |
| `icon` | если значок должен быть показан: `auth`, `send`, `web`, `warning`, `error`, `info`, `search`, `book`, `help`, `upload`. Вы можете использовать значки `base64` (они начинаются с `data:image/svg+xml;base64,...`) или изображения `jpg/png` (заканчиваются на `.png`). (Запрос через issue, если вам нужно больше значков) |

### `staticImage`
| Недвижимость | Описание |
|----------|----------------------------------------|
| `href` | необязательная ссылка HTTP |
| `src` | имя изображения (из каталога администратора) |

### `table`
таблица с элементами, которые можно удалять, добавлять, перемещать вверх, перемещать вниз

| Недвижимость | Описание |
|-----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------|
| `items` | `[{"type": see above, "width": px or %, "title": {"en": "header"}, "attr": "name", "filter": false, "sort": true, "default": ""}]` |
| `objKeyName` | (устаревшая настройка, не использовать!) - имя ключа в `{"192.168.1.1": {delay: 1000, enabled: true}, "192.168.1.2": {delay: 2000, enabled: false}}` |
| `objValueName` | (устаревшая настройка, не использовать!) - имя значения в `{"192.168.1.1": "value1", "192.168.1.2": "value2"}` |
| `allowAddByFilter` | если добавление разрешено, даже если установлен фильтр |
| `showSecondAddAt` | Количество строк, с которых будет отображаться вторая кнопка добавления внизу таблицы. По умолчанию 5 |
| `showFirstAddOnTop` | Показывать первую кнопку «плюс» вверху первого столбца, а не слева. |
| `clone` | [необязательно] - если кнопка клонирования должна быть показана. Если true, кнопка клонирования будет показана. Если имя атрибута, это имя будет уникальным. |
| `export` | [необязательно] - если кнопка экспорта должна быть показана. Экспортировать как файл csv. |
| `import` | [необязательно] - если кнопка импорта должна быть показана. Импорт из файла csv. |
| `uniqueColumns` | [необязательно] - укажите массив столбцов, которые должны иметь уникальные записи |
| `encryptedAttributes` | [необязательно] - указать массив столбцов, которые следует зашифровать |
| `compact` | [необязательно] - если true, таблица будет показана в компактном режиме |
| `compact` | [необязательно] - если true, таблица будет показана в компактном режиме |

### `accordion`
аккордеон с элементами, которые можно удалять, добавлять, перемещать вверх, перемещать вниз (Admin 6.6.0 и новее)

| Недвижимость | Описание |
|-------------|-------------------------------------------------------------------------------------------------------------------------------------|
| `items` | `[{"type": see above, "attr": "name", "default": ""}]` элементы можно размещать как на `panel` (xs, sm, md, lg и newLine) |
| `noDelete` | логическое значение, если удаление или добавление отключены. Если `noDelete` имеет значение false, то добавление, удаление и перемещение вверх/вниз должны работать |
| `clone` | [необязательно] - если кнопка клонирования должна быть показана. Если true, кнопка клонирования будет показана. Если имя атрибута, это имя будет уникальным. |
| `clone` | [необязательно] - если кнопка клонирования должна быть показана. Если true, кнопка клонирования будет показана. Если имя атрибута, это имя будет уникальным. |

### `jsonEditor`
Кнопка открытия редактора JSON(5). JSON5 поддерживается с версии администратора 5.7.3

| Недвижимость | Описание |
|------------------------|-----------------------------------------------------------------------|
| `validateJson` | если false, текст не будет проверен как JSON |
| `json5` | если разрешен формат JSON5 (с 7.5.3) |
| `doNotApplyWithError` | Не разрешать сохранение значения, если ошибка в JSON или JSON5 (с 7.5.3) |
| `doNotApplyWithError` | Не разрешать сохранение значения при ошибке в JSON или JSON5 (с версии 7.5.3) |

### `language`
выберите язык

| Недвижимость | Описание |
|----------|----------------------------------------------------------------------------------------------------------------------|
| `system` | разрешить использование системного языка из `system.config` по умолчанию (при выборе будет иметь пустое строковое значение) |

### `certificate`
| Недвижимость | Описание |
|------------|----------------------------------------------------------------------------------------|
| `certType` | из: `public`, `private`, `chained`. Но с версии 6.4.0 можно использовать тип `certificates`. |

### `certificates`
это универсальный тип, который управляет атрибутами `certPublic`, `certPrivate`, `certChained` и `leCollection` для вас.
Пример:

```json
{
  "_certs": {
    "type": "certificates",
    "newLine": true,
    "hidden": "!data.secure",
    "sm": 12
  }
}
```

### `certificateCollection`
выберите коллекцию сертификатов или просто используйте все коллекции или вообще не используйте Let's Encrypt.

| Недвижимость | Описание |
|--------------------|------------------------------------|
| `leCollectionName` | название коллекции сертификатов |

### `custom`
только Админ6

| Недвижимость | Описание |
|---------------|--------------------------------------------------------------------------------------------------------------------------------|
| `name` | Имя компонента, которое будет предоставлено через свойства, например `ComponentInstancesEditor` |
| `i18n` | true, если файлы `i18n/xx.json` расположены в том же каталоге, что и компонент или объект перевода `{"text1": {"en": Text1"}}` |
| `bundlerType` | Если модуль написан с помощью TypeScript, установите его в `module`. Из Admin 7.5.x |
| `bundlerType` | Если модуль написан на TypeScript, установите его на `module`. Из Admin 7.5.x |

#### Пример URL-адреса
- `custom/customComponents.js`: в этом случае файлы будут загружены из `/adapter/ADAPTER_NAME/custom/customComponents.js`
- `https://URL/myComponent`: напрямую из URL
- `./adapter/ADAPTER_NAME/custom/customComponent.js`: в этом случае файлы будут загружены из `/adapter/ADAPTER_NAME/custom/customComponents.js`

### `datePicker`
позволяют пользователю выбирать дату ввода, формат пользовательского интерфейса берется из настроенного

### `timePicker`
разрешить пользователю выбрать дату ввода возвращаемая строка является анализируемой строкой даты или имеет формат `HH:mm:ss`

| Недвижимость | Описание |
|----------------|------------------------------------------------------------------------------------------------------|
| `format` | формат, переданный в средство выбора даты, по умолчанию равен `HH:mm:ss` |
| `timeSteps` | Представляет доступные временные шаги для каждого представления. По умолчанию `{ hours: 1, minutes: 5, seconds: 5 }` |
| `returnFormat` | `fullDate` или `HH:mm:ss`. По умолчанию используется полная дата для обратной совместимости. |
| `returnFormat` | `fullDate` или `HH:mm:ss`. По умолчанию используется полная дата для обратной совместимости. |

### `divider`
горизонтальная линия

| Недвижимость | Описание |
|----------|--------------------------------------------------|
| `height` | необязательная высота |
| `цвет` | необязательный цвет разделителя или `первичный`, `вторичный` |

### `header`
| Недвижимость | Описание |
|----------|--------------|
| `text` | |
| `размер` | 1-5 => h1-h5 |

### `cron`
Показывает настройки CRON. У вас есть 3 варианта:

- `simple` - показывает простые настройки CRON
- `complex` - показывает CRON с "минутами", "секундами" и т. д.
- ни «простой» ни «сложный» - Пользователь может переключаться между простым и сложным в диалоговом окне

| Недвижимость | Описание |
|-----------|-----------------------------------------------|
| `complex` | показать CRON с «минутами», «секундами» и т. д. |
| `simple` | показать простые настройки CRON |

### `fileSelector`
Выберите файл из одной папки в раскрывающемся меню. И если хотите, можете загрузить новый файл в эту папку.

только Админ6

| Недвижимость | Описание |
|--------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `pattern` | Шаблон расширения файла. Разрешено `**/*.ext` для отображения всех файлов из подпапок, `*.ext` для отображения из корневой папки или `folderName/*.ext` для отображения всех файлов в подпапке `folderName`. По умолчанию `**/*.*`. |
| `objectID` | Идентификатор объекта типа `meta`. Вы можете использовать специальный заполнитель `%INSTANCE%`: например `myAdapter.%INSTANCE%.files` |
| `upload` | путь, где будут храниться загруженные файлы. Например, `folderName`. Если не определено, поле загрузки не будет показано. Чтобы загрузить в корень, установите это поле в `/`. |
| `refresh` | Показывать кнопку обновления рядом с выбором. |
| `maxSize` | максимальный размер файла (по умолчанию 2 МБ) |
| `withFolder` | показывать имя папки, даже если все файлы в одной папке |
| `delete` | Разрешить удаление файлов |
| `noNone` | Не показывать параметр `none` |
| `noSize` | Не показывать размер файлов |
| `noSize` | Не показывать размер файлов |

### `file`
Поле ввода с селектором файлов. Оно будет показано как текстовое поле с кнопкой сбоку для открытия диалога.
только Admin6.

| Недвижимость | Описание |
|---------------------|------------------------------------------------------------------------------------------|
| `disableEdit` | если пользователь может вручную ввести имя файла, а не только через диалоговое окно выбора |
| `filterFiles` | нравится `['png', 'svg', 'bmp', 'jpg', 'jpeg', 'gif']` |
| `allowUpload` | разрешена загрузка файлов |
| `allowDownload` | разрешено скачивание файлов (по умолчанию true) |
| `allowCreateFolder` | разрешено создание папок |
| `allowView` | разрешенный вид плитки (по умолчанию true) |
| `showToolbar` | показать панель инструментов (по умолчанию true) |
| `selectOnlyFolders` | пользователь может выбрать только папки (например, для пути загрузки) |
| `trim` | обрезать имя файла |
| `trim` | обрезать имя файла |

### `imageSendTo`
показывает изображение, полученное от бэкэнда в виде строки base64

| Недвижимость | Описание |
|------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `width` | ширина QR-кода в пикселях |
| `command` | команда sendTo |
| `jsonData` | строка - `{"subject1": "${data.subject}", "options1": {"host": "${data.host}"}}`. Эти данные будут отправлены на бэкэнд |
| `data` | object - `{"subject1": 1, "data": "static"}`. Вы можете указать jsonData или data, но не оба. Эти данные будут отправлены на бэкэнд, если jsonData не определен. |
| `data` | object - `{"subject1": 1, "data": "static"}`. Можно указать jsonData или data, но не оба. Эти данные будут отправлены на бэкэнд, если jsonData не определен. |

#### Пример кода в бэкэнде для `imageSendTo`
```js
adapter.on("message", (obj) => {
  if (obj.command === "send") {
    const QRCode = require("qrcode");
    QRCode.toDataURL(
      "3ca4234a-fd81-fdb8-5584-08c732f70e4d",
      (err, url) =>
        obj.callback && adapter.sendTo(obj.from, obj.command, url, obj.callback)
    );
  }
});
```

### `selectSendTo`
Показывает раскрывающееся меню с указанными значениями экземпляра.

| Недвижимость | Описание |
|-----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `command` | команда sendTo |
| `data` | object - `{"subject1": 1, "data": "static"}`. Вы можете указать jsonData или data, но не оба. Эти данные будут отправлены на бэкэнд, если jsonData не определен. |
| `manual` | разрешить ручное редактирование. Без раскрывающегося меню (если экземпляр находится в автономном режиме). По умолчанию `true`. |
| `multiple` | Выбор множественного выбора |
| `showAllValues` | показать элемент, даже если для него не найдено ни одной метки (по нескольким), по умолчанию=`true` |
| `noTranslation` | не переводить метку select. Чтобы использовать эту опцию, ваш адаптер должен реализовать обработчик сообщений. Результатом команды должен быть массив в форме `[{"value": 1, "label": "one"}, ...]` |
| `alsoDependsOn` | при изменении каких атрибутов команда должна быть отправлена повторно |
| `alsoDependsOn` | при изменении каких атрибутов команда должна быть отправлена повторно |

#### Пример кода в бэкэнде для `selectSendTo`
```js
adapter.on("message", (obj) => {
  if (obj) {
    switch (obj.command) {
      case "command":
        if (obj.callback) {
          try {
            const { SerialPort } = require("serialport");
            if (SerialPort) {
              // read all found serial ports
              SerialPort.list()
                .then((ports) => {
                  adapter.log.info(`List of port: ${JSON.stringify(ports)}`);
                  adapter.sendTo(
                    obj.from,
                    obj.command,
                    ports.map((item) => ({
                      label: item.path,
                      value: item.path,
                    })),
                    obj.callback
                  );
                })
                .catch((e) => {
                  adapter.sendTo(obj.from, obj.command, [], obj.callback);
                  adapter.log.error(e);
                });
            } else {
              adapter.log.warn("Module serialport is not available");
              adapter.sendTo(
                obj.from,
                obj.command,
                [{ label: "Not available", value: "" }],
                obj.callback
              );
            }
          } catch (e) {
            adapter.sendTo(
              obj.from,
              obj.command,
              [{ label: "Not available", value: "" }],
              obj.callback
            );
          }
        }

        break;
    }
  }
});
```

### `autocompleteSendTo`
Показывает элемент управления автозаполнением с указанными в экземпляре значениями.

| Недвижимость | Описание |
|-----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `command` | команда sendTo |
| `data` | object - `{"subject1": 1, "data": "static"}`. Вы можете указать jsonData или data, но не оба. Эти данные будут отправлены на бэкэнд, если jsonData не определен. |
| `freeSolo` | Установите `freeSolo` на `true`, чтобы текстовое поле могло содержать любое произвольное значение. |
| `alsoDependsOn` | при изменении каких атрибутов команда должна быть отправлена повторно |
| `maxLength` | максимальная длина текста в поле |
| `maxLength` | максимальная длина текста в поле |

Чтобы использовать эту опцию, ваш адаптер должен реализовать обработчик сообщений:

Результатом команды должен быть массив в форме `["value1", {"value": "value2", "label": "Value2"}, ...]` (ключи должны быть уникальными). Пример обработчика см. в `selectSendTo`.

### `textSendTo`
Показывает элемент управления только для чтения с указанными в экземпляре значениями.

| Недвижимость | Описание |
|-------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `container` | `div`, `text`, `html` |
| `alsoDependsOn` | при изменении каких атрибутов команда должна быть отправлена повторно |
| `command` | команда sendTo |
| `jsonData` | строка - `{"subject1": "${data.subject}", "options1": {"host": "${data.host}"}}`. Эти данные будут отправлены на бэкэнд |
| `data` | object - `{"subject1": 1, "data": "static"}`. Вы можете указать jsonData или data, но не оба. Эти данные будут отправлены на бэкэнд, если jsonData не определен. |
| `data` | object - `{"subject1": 1, "data": "static"}`. Вы можете указать jsonData или data, но не оба одновременно. Эти данные будут отправлены на бэкэнд, если jsonData не определен. |

Чтобы использовать эту опцию, ваш адаптер должен реализовать обработчик сообщений: Результатом команды должна быть строка или объект со следующими параметрами:

```json5
{
  text: "text to show", // mandatory
  style: { color: "red" }, // optional
  icon: "search", // optional. It could be base64 or link to image in the same folder as jsonConfig.json file
  // possible predefined names: edit, rename, delete, refresh, add, search, unpair, pair, identify, play, stop, pause, forward, backward, next, previous, lamp, backlight, dimmer, socket, settings, group, user, qrcode, connection, no-connection, visible
  iconStyle: { width: 30 }, // optional
}
```

#### Пример для `textSendTo`
```js
adapter.on("message", (obj) => {
  if (obj) {
    switch (obj.command) {
      case "command":
        obj.callback &&
          adapter.sendTo(
            obj.from,
            obj.command,
            "Received " + JSON.stringify(obj.message),
            obj.callback
          );
        // or with style
        obj.callback &&
          adapter.sendTo(
            obj.from,
            obj.command,
            {
              text: "Received " + JSON.stringify(obj.message),
              style: { color: "red" },
              icon: "search",
              iconStyle: { width: 30 },
            },
            obj.callback
          );
        // or as html
        obj.callback &&
          adapter.sendTo(
            obj.from,
            obj.command,
            `<div style="color: green">${JSON.stringify(obj.message)}</div>`,
            obj.callback
          );
        break;
    }
  }
});
```

### `coordinates`
Определяет текущее местоположение и использует координаты `system.config`, если это невозможно в формате «широта,долгота»

| Недвижимость | Описание |
|-----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `divider` | разделитель между широтой и долготой. По умолчанию "," (используется, если longitudeName и latitudeName не определены) |
| `longitudeName` | если определено, долгота будет сохранена в этом атрибуте, разделитель будет проигнорирован |
| `latitudeName` | если определено, широта будет сохранена в этом атрибуте, разделитель будет проигнорирован |
| `useSystemName` | если определено, будет показан флажок «Использовать системные настройки», а широта и долгота будут считаны из `system.config`, логическое значение будет сохранено под указанным именем |
| `useSystemName` | если определено, будет показан флажок «Использовать системные настройки», а широта и долгота будут считаны из `system.config`, логическое значение будет сохранено под указанным именем |

### `interface`
Выбирает интерфейс хоста, на котором запущен экземпляр

| Недвижимость | Описание |
|------------------|----------------------------------------------------------------|
| `ignoreLoopback` | не показывать интерфейс обратной связи (127.0.0.1) |
| `ignoreInternal` | не показывать внутренние интерфейсы (обычно это тоже 127.0.0.1) |

### `license`
показывает информацию о лицензии, если она еще не принята. Один из атрибутов `texts` или `licenseUrl` должен быть определен. Когда лицензия принята, определенный атрибут конфигурации будет установлен на `true`.

| Недвижимость | Описание |
|--------------|------------------------------------------------------------------------------------------------------------|
| `texts` | массив абзацев с текстами, которые будут показаны каждый как отдельный абзац |
| `title` | Заголовок диалогового окна лицензии |
| `agreeText` | Текст согласованной кнопки |
| `checkBox` | Если определено, будет показан флажок с указанным именем. Если отмечено, будет включена кнопка «Согласовано». |
| `checkBox` | Если определено, будет показан флажок с указанным именем. Если отмечено, будет включена кнопка согласования. |

### `checkLicense`
Очень специальный компонент для проверки лицензии онлайн. Требуются именно свойства `license` и `useLicenseManager` в нативном.

| Недвижимость | Описание |
|-----------|---------------|
| `uuid` | Проверить UUID |
| `версия` | Проверить версию |

### `uuid`
Показать UUID iobroker

### `port`
Специальный ввод для портов. Он автоматически проверяет, используется ли порт другими экземплярами, и выводит предупреждение

| Недвижимость | Описание |
|----------|-------------------------------------------------------------------------------------------------------------------------------|
| `min` | минимально допустимый номер порта. Это может быть 0. И если значение равно нулю, то проверка на занятость порта не будет выполнена. |

### `state`
(admin >= 7.1.0) Показать элемент управления или информацию из атрибутов состояния (admin >= 7.6.4) `showEnterButton` и `setOnEnterKey`

| Недвижимость | Описание |
|-------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `oid` | Какой идентификатор объекта следует взять для управления. Идентификатор без префикса `adapter.X.` |
| `foreign` | `oid` является абсолютным и нет необходимости добавлять `adapter.X` или `system.adapter.X.` к oid |
| `control` | Как следует отображать значение состояния: `text`, `html`, `input`, `slider`, `select`, `button`, `switch`, `number` |
| `controlled` | Если true, состояние будет отображаться как переключатель, выбор, кнопка, ползунок или ввод текста. Используется только если не определено свойство элемента управления |
| `unit` | Добавить единицу к значению |
| `trueText` | этот текст будет показан, если значение истинно |
| `trueTextStyle` | Стиль текста, если значение true |
| `falseText` | этот текст будет показан, если значение равно false или если элемент управления является «кнопкой» |
| `falseTextStyle` | Стиль текста, если значение равно false или если элемент управления является «кнопкой» |
| `trueImage` | Это изображение будет показано, если значение равно true |
| `falseImage` | Это изображение будет показано, если значение равно false или если элемент управления является «кнопкой» |
| `min` | Минимальное значение для ползунка или числа типа элемента управления |
| `max` | Максимальное значение для ползунка или числа типа элемента управления |
| `step` | Значение шага для типа управления ползунок или число |
| `controlDelay` | задержка в мс для ползунка или числа |
| `variant` | Вариант кнопки: `contained`, `outlined`, `text` |
| `readOnly` | Определяет, доступен ли элемент управления только для чтения |
| `narrow` | Обычно заголовок и значение отображаются слева и справа от строки. С этим флагом значение будет отображаться сразу после метки |
| `blinkOnUpdate` | Значение должно мигать при обновлении (true или color) |
| `size` | Размер шрифта: маленький, нормальный, большой или число |
| `addColon` | Добавьте к метке двоеточие в конце, если его нет в метке |
| `labelIcon` | Значок Base64 для метки |
| `buttonValue` | Необязательное значение, которое будет отправлено для кнопки |
| `showEnterButton` | Показать кнопку SET. Значение в этом случае будет отправлено только при нажатии кнопки. Вы можете определить текст кнопки. Текст по умолчанию — «Set» (Только для «input», «number» или «slider») |
| `setOnEnterKey` | Значение в этом случае будет отправлено только при нажатии кнопки «Ввод». Его можно комбинировать с `showEnterButton` |
| `options` | Варианты для `select` в форме `["value1", "value2", ...]` или `[{"value": "value", "label": "Value1", "color": "red"}, "value2", ...]`. Если не осквернено, `common.states` в объекте должен существовать. |
| `options` | Параметры для `select` в форме `["value1", "value2", ...]` или `[{"value": "value", "label": "Value1", "color": "red"}, "value2", ...]`. Если не осквернено, `common.states` в объекте должен существовать. |

### `staticInfo`
Показывает статическую информацию в предварительно отформатированном виде, например «Заголовок: единица измерения» (admin >= 7.3.3). Этот элемент управления используется в основном в динамических формах.

| Недвижимость | Описание |
|---------------------|-------------------------------------------------------------------------------------------------------------------------------------------------|
| `data` | Значение, которое будет показано |
| `unit` | (необязательно) единица (может быть многоязычной) |
| `narrow` | (необязательно) Обычно заголовок и значение отображаются слева и справа от строки. С этим флагом значение будет отображаться сразу после метки |
| `addColon` | (необязательно) Добавьте к метке двоеточие в конце, если его нет в метке |
| `blinkOnUpdate` | (необязательно) Значение должно мигать при обновлении (true или color) |
| `blink` | (необязательно) Значение должно мигать непрерывно (true или color) |
| `styleLabel` | (необязательно) CSS-стили React |
| `styleValue` | (необязательно) CSS-стили React |
| `styleUnit` | (необязательно) CSS-стили React |
| `copyToClipboard` | (необязательно) Показать кнопку «Копировать в буфер обмена» для значения |
| `labelIcon` | (необязательно) значок base64 для метки |
| `size` | (необязательно) размер шрифта: маленький, нормальный, большой или число |
| `highlight` | (необязательно) Выделение строки при наведении курсора мыши |
| `booleanAsCheckbox` | (необязательно) Показывать логические значения как флажок |
| `booleanAsCheckbox` | (необязательно) Показывать логические значения как флажки |

### `infoBox`
Показывает закрываемый статический текст с необязательным заголовком и значком. (От администратора >= 7.6.19)

| Недвижимость | Описание |
|----------------|---------------------------------------------------------------|
| `text` | Текст для отображения |
| `boxType` | (необязательно) `warning`, `info`, `error`, `ok`. (По умолчанию `info`) |
| `closeable` | (необязательно) Если ящик закрываемый (по умолчанию `true`) |
| `iconPosition` | (необязательно) `top`, `middle` (по умолчанию `middle`) |
| `closed` | (необязательно) В начале будет отображаться как закрытый |
| `закрыто` | (необязательно) В начале будет отображаться как закрытое |

### `deviceManager`
show device manager. Для этого адаптер должен поддерживать протокол device manager. См. iobroker/dm-utils.

Вот пример того, как отобразить диспетчер устройств на вкладке:

```json
"_deviceManager": {
  "type": "panel",
  "label": "Device manager",
  "items": {
    "_dm": {
      "type": "deviceManager",
      "sm": 12,
      "style": {
        "width": "100%",
        "height": "100%",
        "overflow": "hidden"
      }
    }
  },
  "style": {
    "width": "100%",
    "height": "100%",
    "overflow": "hidden"
  },
  "innerStyle": {
    "width": "100%",
    "height": "100%",
    "overflow": "hidden"
  }
}
```

## Общие атрибуты элементов управления
### Параметры макета `xl`,`lg`,`md`,`sm`,`xs`
Эти параметры используются для определения ширины элементов на экранах разных размеров, обеспечивая адаптивную и адаптируемую компоновку на различных устройствах.

Допустимые числа: от 1 до 12.

Если указать число, например 6, то ширина элемента составит 6/12 (50%) ширины экрана или например 3, то ширина элемента составит 3/12 (25%) ширины экрана.
Назначьте числа различным вариантам макета, укажите ширину элемента для различных размеров экрана.

| вариант | описание |
|--------|------------------------------------------|
| `xl` | очень большие экраны (1536 пикселей >= ширина) |
| `md` | средние экраны (900 пикселей <= ширина < 1200 пикселей) |
| `sm` | маленький экран (600 пикселей <= ширина < 900 пикселей) |
| `xs` | маленькие экраны (ширина < 600 пикселей) |
| `xs` | маленькие экраны (ширина < 600 пикселей) |

Следующие параметры являются рекомендуемыми предустановками, подходящими для большинства случаев.

```json
"xs": 12,
"sm": 12,
"md": 6,
"lg": 4,
"xl": 4,
```

#### Рекомендуется проверить макет
Соответствующую компоновку следует проверить для каждого адаптера, чтобы увидеть, может ли она отображаться и использоваться во всех разрешениях.

Это можно проверить, например, с помощью инструментов веб-разработчика, встроенных в каждый браузер на базе Chromium.

Шаг 1: Откройте инструменты веб-разработчика с помощью F12.

Шаг 2: Откройте панель инструментов устройства (1)

Шаг 3: Выберите разные устройства (2)

![изображение](../../en/dev/img/webdevtools.png)

В настройках инструментов веб-разработчика вы можете создать собственные устройства с точной шириной, если захотите.

### Дополнительные возможности
| вариант | описание |
|--------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `type` | Если у элемента нет атрибута `type`, предположим, что у него тип по умолчанию 'panel'. Тип элемента. Для текущих доступных опций см. [Общие элементы управления:](#common-control-elements) |
| `label` | Строка или объект типа {en: 'Name', ru: 'Имя'} |
| `hidden` | Функция JS, которая может использовать `native.attribute` для расчета |
| `hideOnlyControl` | если скрыто, место будет показано, но управление не будет |
| `disabled` | Функция JS, которая может использовать `native.attribute` для расчета |
| `help` | текст справки (многоязычный) |
| `helpLink` | href для справки (можно использовать только вместе с `help`) |
| `style` | Стиль CSS в нотации ReactJS: `radiusBorder`, а не `radius-border`. |
| `darkStyle` | Стиль CSS для темного режима |
| `validator` | Функция JS: true — ошибки нет, false — ошибка |
| `validatorErrorText` | Текст, отображаемый в случае сбоя валидатора |
| `validatorNoSaveOnError` | отключить кнопку сохранения при ошибке |
| `tooltip` | необязательная подсказка |
| `default` | значение по умолчанию |
| `defaultFunc` | Функция JS для расчета значения по умолчанию |
| `placeholder` | заполнитель (для управления текстом) |
| `noTranslation` | не переводить выборки или другие параметры (не для справки, метки или заполнителя) |
| `onChange` | Структура в форме `{"alsoDependsOn": ["attr1", "attr2"], "calculateFunc": "data.attr1 + data.attr2", "ignoreOwnChanges": true}` |
| `doNotSave` | Не сохраняйте этот атрибут, так как он используется только для внутренних расчетов |
| `noMultiEdit` | если этот флаг установлен в значение true, это поле не будет отображаться, если пользователь выбрал более одного объекта для редактирования. |
| `expertMode` | если этот флаг установлен в значение true, это поле будет отображаться только в том случае, если режим эксперта установлен в значение true (из Admin 7.4.3) |
| `expertMode` | если этот флаг установлен в значение true, это поле будет отображаться только в том случае, если режим эксперта установлен в значение true (начиная с Admin 7.4.3) |

### Варианты с подробной конфигурацией
#### `defaultSendTo`
команда для запроса начального значения у работающего экземпляра, пример: `"myInstance": {"type": "text", "defaultSendTo": "fill"}`

- `data` - статические данные
- `jsonData` - статические данные
- если не определены `data` и `jsonData`, будет отправлена следующая информация `{"attr": "<имя атрибута>", "value": "<текущее значение>"}`
- `button` - метка кнопки для повторного запуска запроса из экземпляра
- `buttonTooltip` - Подсказка кнопки (по умолчанию: `Запросить данные по экземпляру`)
- `buttonTooltipNoTranslation` - Не переводить подсказку кнопки
- `allowSaveWithError` - Разрешить сохранение конфигурации, даже если экземпляр находится в автономном режиме

#### `confirm`
- `condition` - функция JS: true показать диалог подтверждения
- `text` - текст диалогового окна подтверждения
- `title` - заголовок диалога подтверждения
- `ok` - Текст для кнопки ОК
- `cancel` - Текст для кнопки «Отмена»
- `type` - Один из: `info`, `warning`, `error`, `none`
- `alsoDependsOn` - массив с атрибутами, для проверки условия и по этим атрибутам

## Автозаполнение
`Number`, `text`, `checkbox`, `select` поддерживают автозаполнение, чтобы разрешить выбор параметров при использовании в качестве пользовательских настроек.
В этом случае значение будет предоставлено как массив всех возможных значений.

Пример:

```json5
// ...
   "timeout": {
      "type": "number",
      "label": "Timeout"
   }
// ...

"data": {
   "timeout": [1000, 2000, 3000]
}
```

В этом случае ввод должен быть текстовым, где показано `__different__`, с возможностью автозаполнения трех возможных значений.
Пользователи могут выбрать из раскрывающегося списка 1000, 2000 или 3000 или ввести собственное новое значение, например, 500.

Булево значение должно поддерживать неопределенность, если значение равно [false, true]

Для неизмененного `__different__` должно быть возвращено другое значение:

Вход:

```json
"data": {
   "timeout": [1000, 2000, 3000]
}
```

Вывод, если тайм-аут не был изменен:

```json
"newData": {
   "timeout": "__different__"
}
```

Значение `__different__` зарезервировано, и ни один текстовый ввод не может принять его от пользователя.

Компонент должен выглядеть так

```jsx
<SchemaEditor
    style={customStyle}
    className={classes.myClass}
    schema={schema}
    customInstancesEditor={CustomInstancesEditor}
    data={common.native}
    onError={(error, attribute) => error can be true/false or text. Attribute is optional}
    onChanged={(newData, isChanged) => console.log('Changed ' + isChanged)}
/>
```

Если схема не указана, ее необходимо создать автоматически из данных.

- `boolean` => флажок
- `текст` => ввод текста
- `число` => число
- имя `bind` => ip
- имя `port` => номер, мин=1, макс=0xFFFF
- имя `timeout` => число, help="ms"

## То, что нужно сделать
Следующие главы взяты из оригинальной SCHEMA.MD. Я не понял содержание подробно, и bluefox должен был его улучшить.

## Функции JS
### Диалоговое окно конфигурации
Функция JS:

```js
const myValidator = "_alive === true && data.options.myType == 2";

const func = new Function(
  'data',          // actual obj.native or obj.common.custom['adapter.X'] object
                   // If table, so data is current line in the table
  'originalData',  // data before changes
  '_system',       // system config => 'system.config'=>common
  '_alive',        // If instance is alive
  '_common',       // common part of instance = 'system.config.ADAPTER.X' => common
  '_socket',       // socket connection
  '_instance',     // instance number
  'arrayIndex',    // filled only by table and represents the row index
  'globalData',    // filled only by table and represents the obj.native or obj.common.custom['adapter.X'] object
  '_changed',      // indicator if some data was changed and must be saved
  myValidator.includes('return') ? myValidator : 'return ' + myValidator); // e.g. "_alive === true"

const isValid = func(data, systemConfig.common, instanceAlive, adapter.common, this.props.socket);
```

Если статус `alive` изменится, все поля должны быть обновлены, проверены, отключены, скрыты заново.

В настройках адаптера функции JS доступны следующие переменные:

- `data` - собственные настройки для данного экземпляра или текущей строки в таблице (для доступа ко всем настройкам используйте globalData)
- `_system` - конфигурация системы
- `_alive` - экземпляр живой
- `_common` - общие настройки для этого экземпляра
- `_socket` - сокет
- `_instance` - номер экземпляра
- `arrayIndex` - используется только в таблице и представляет текущую строку в массиве
- `globalData` - используется только в таблице для всех настроек, а не только в одной строке таблицы

### Диалоговое окно пользовательских настроек
Функция JS:

```js
const myValidator =
  "customObj.common.type === 'boolean' && data.options.myType == 2";

const func = new Function(
  "data",
  "originalData",
  "_system",
  "instanceObj",
  "customObj",
  "_socket",
  arrayIndex,
  myValidator.includes("return") ? myValidator : "return " + myValidator
); // e.g. "_alive === true"

const isValid = func(
  data || this.props.data,
  this.props.originalData,
  this.props.systemConfig,
  instanceObj,
  customObj,
  this.props.socket
);
```

В пользовательских настройках функции JS доступны следующие переменные:

- `data` - текущие пользовательские настройки или текущая строка в таблице (для доступа ко всем настройкам используйте globalData)
- `originalData` - Неизмененные данные
- `_system` - конфигурация системы
- `instanceObj` - объект экземпляра адаптера
- `customObj` - сам текущий объект
- `_socket` - сокет
- `arrayIndex` - используется только в таблице и представляет текущую строку в массиве
- `globalData` - используется только в таблице для всех настроек, а не только в одной строке таблицы

## Пользовательский компонент
```jsx
<CustomInstancesEditor
    common={common.data}
    alive={isInstanceAlive}
    data={data}
    socket={this.props.socket}
    themeName={this.props.themeName}
    themeType={this.props.themeType}
    theme={this.props.theme}
    name="accessAllowedConfigs"
    onChange={(newData, isChanged) => {}}
    onError={error => error can be true/false or text}
/>
```

Примеры можно найти в адаптере [`telegram`](https://github.com/iobroker-community-adapters/ioBroker.telegram/tree/master/src-admin) или в [`pushbullet`](https://github.com/Jens1809/ioBroker.pushbullet/tree/master/src-admin).

## Вкладка JSON в админке
Начиная с версии администратора 7.6.x вы можете определить вкладку (например, `backitup` или `matter`) с помощью конфигурации JSON.

Для этого необходимо определить в `io-package.json` в `common` часть следующее:

```json5
{
   "common": {
      // ....
      "adminTab": {
         "link": "jsonTab.json", // the name could be any, but only ends with `.json` or `.json5`
         // all following parameters are optional
         "icon": "AABBCC", // base64 icon. If not provided, the adapter icon will be taken
         "name": "TabName", // String or multi-language object for menu label
         "singleton": true, // Tab will not have an instance number and for all instances will exist only one menu item.
         "order": 10, // Order in admin tab (0 is disabled, 1 - first after static menu items, 200 is last)
      },
      // ....
   }
}
```

Файл `jsonTab.json5` может выглядеть так:

```json5 
{
   "i18n": "tabI18n", // folder name in admin, where the translations are stored (relative to "admin" folder)
   "command": "tab", // If defined, the tab will send a message by initializing to backend with command "tab" (string contained in "sendTo")
   "items": {
      "memHeapTotal": {
         // This will show "system.adapter.admin.0.memHeapTotal" value
         "type": "state",
         "label": "Memory",
         "sm": 12,
         "system": true,
         "oid": "memHeapTotal"
      },
      "infoConnected": {
         // This will show "admin.0.info.connected" value
         "newLine": true,
         "type": "state",
         "label": "Info about connected socket clients",
         "sm": 12,
         "oid": "info.connected"
      },
      "dayTime": {
         // This will show "javascript.0.variables.dayTime" value
         "newLine": true,
         "type": "state",
         "label": "Aktuelle Zeit",
         "sm": 12,
         "foreign": true,
         "oid": "javascript.0.variables.dayTime"
      },
      "value": {
         // This will show "data.value" value from "sendTo" answer
         "newLine": true,
         "type": "text",
         "readOnly": "true",
         "label": "Value from sendTo answer",
         "sm": 12,
      }
   }
}
```

Если указано `sendTo`, экземпляр получит сообщение (`common.messagebox` должно быть истинным в `io-package.json`) с командой `tab` или со значением, сохраненным в `sendTo`, если это строка. Экземпляр должен ответить со структурой типа:

```typescript
onMessage = (obj: ioBroker.Message): void => {
    if (obj?.command === 'tab' && obj.callback) {
        // if not instance message
        this.sendTo(obj.from, obj.command, { data: { value: 5 } }, obj.callback);
    }
};
```

## Сообщить об ошибке схемы
Создайте задачу здесь: https://github.com/ioBroker/ioBroker.admin/issues

## Для сопровождающего
Чтобы обновить расположение схемы JsonConfig, создайте запрос на извлечение для этого файла: https://github.com/ioBroker/ioBroker.admin/blob/master/packages/jsonConfig/schemas/jsonConfig.json